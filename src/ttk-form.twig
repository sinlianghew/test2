{% extends "templates/partials/base.twig" %}

{% block main %}



<div class="form-wizard" id="ttk-form">
    <div class="container py-5">
        <h1>Tie The Knot </h1>
        {% include "templates/components/steppers.twig" %} 
    </div>

    <div class="bg-p2d py-5 wizard-sections" id="main-content">
        <validation-observer v-slot="{ handleSubmit }" ref="form">
            <form @submit.prevent="handleSubmit(onSubmit)">

                <fieldset class="wizard-section-1" v-if="currStep && currStep.step == 1">
                    <div class="container">

                        <div class="bg-w py-5 px-4">
                            <h2 class="p2">Get Started</h2>

                            <div :class="{
                                'bt2': true,
                                'd-none': !showGetStartedConsent
                            }">
                                <p>
                                    Please make sure you meet the following conditions.
                                </p>
                                <ol class="pl-3">
                                    <li>You and your spouse-to-be are between 18 and 70 years old.</li>
                                    <li>You or your spouse-to-be must be Malaysian or Permanent Resident of Malaysia.
                                    </li>
                                    <li> Your wedding and/or reception venue(s) are in Malaysia.</li>
                                    <li>You and your spouse-to-be are not aware of any circumstances which may give rise
                                        to a
                                        loss.</li>
                                    <li>You and your spouse-to-be are not suffering from any physical, psychological, or
                                        other
                                        medical conditions.</li>
                                </ol>


                                {% verbatim %}
                                <validation-provider v-slot="{ errors }" rules="mustBeTrue">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="agreement" id="agreement"
                                            v-model="formData['1'].pdpaAgreement">
                                        <label class="form-check-label" for="agreement">
                                            I have read and understood MSIG's <a href="#" class="underline">Privacy
                                                Notice</a> and agree to MSIG processing my personal data for the
                                            purposes and in the manners set out in the Privacy Notice.
                                        </label>
                                        <svg class="icon icon-m tick-mark">
                                            <use xlink:href="spa-assets/icons/icons.svg#sprite-tick-mark"
                                                href="spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                        </svg>

                                        <div class="error-message" v-if="errors.length > 0">*
                                            Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                        </div>

                                    </div>
                                </validation-provider>


                                {% endverbatim %}

                            </div>

                        </div>
                    </div>

                    <div class="container pt-4 wizard-navigation ">
                        <a href="#" role="button" class="btn btn-default btn-outline-primary order-2 order-md-1"
                            v-if="showGetStartedConsent">Back</a>
                        <button class=" btn btn-default btn-primary mb-3 mb-md-0 order-1  order-md-2"
                            v-if="showGetStartedConsent">Continue</button>
                    </div>
                </fieldset>


                <fieldset class="wizard-section-2" v-if="currStep && currStep.step == 2">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 col-md-8">

                                <!-- add event -->
                                <div class="bg-w py-5 px-4 mb-3" v-for="(event, index) in formData['2'].eventDetails">
                                    {% verbatim %}

                                    <div class="d-flex">
                                        <h2 class="p2">Event Details #{{index + 1}}</h2>
                                        <span>
                                            <div class="ml-2 btn-tooltip" data-toggle="tooltip" data-placement="right"
                                                title="Event date must be at least 6 months from today."> ?
                                            </div>
                                        </span>
                                    </div>

                                    {% endverbatim %}

                                    <div class="row">

                                        <div class="col-12 col-md-6">
                                            <p class="bt1 mb-2">Event Date:</p>
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group variant-date-picker mb-0">
                                                    <datepicker :class="{
                                                            'form-control': true,
                                                            'is-invalid': errors.length > 0
                                                        }" placeholder="Select date" :format="customDateFormatter"
                                                        v-model="event.eventDate">
                                                    </datepicker>
                                                    {% include "templates/components/icon.twig" with { iconName: 'calendar' } %}
                                                </div>

                                                <div class="error-message" v-if="errors.length > 0">* Select a date.
                                                </div>
                                            </validation-provider>
                                        </div>

                                        {% verbatim %}
                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label class="bt1">Venue Name:</label>
                                                    <input type="text" :class="{
                                                        'form-control': true,
                                                        'is-invalid': errors.length > 0
                                                    }" placeholder="Hotel Royal Chulan" name="Venue Name"
                                                        v-model="event.eventName">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>

                                                </div>
                                            </validation-provider>

                                        </div>

                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label for="eventAddressLine1" class="bt1">Address:</label>
                                                    <input type="text" :class="{
                                                        'form-control': true,
                                                        'is-invalid': errors.length > 0
                                                    }" placeholder="First Line" name="addresss"
                                                        v-model="event.eventAddressLine1">
                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                            <div class="form-group">
                                                <input class="form-control" type="text" placeholder="Second Line"
                                                    v-model="event.eventAddressLine2">
                                            </div>
                                        </div>


                                        <div class="col-12 col-md-6">

                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group variant-icon">
                                                    <label for="postcode" class="bt1">Postcode:</label>
                                                    <div class="input-wrapper">
                                                        <input type="text" :class="{
                                                                'form-control': true,
                                                                'is-invalid': errors.length > 0
                                                            }" placeholder="Find postcode" name="Postal Code"
                                                            v-model="event.eventPostCode">
                                                        <svg class="icon icon-s mr-2">
                                                            <use xlink:href="spa-assets/icons/icons.svg#sprite-search"
                                                                href="spa-assets/icons/icons.svg#sprite-search"></use>
                                                        </svg>
                                                    </div>
                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>
                                        {% endverbatim %}
                                    </div>

                                    <div class="row">
                                        <div class="col-12 col-md-6">
                                            <div class="form-group">
                                                <label for="city" class="bt1">City:</label>
                                                <input type="text" disabled="disabled" placeholder="City"
                                                    class="form-control" v-model="event.eventCity">
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-6">
                                            <div class="form-group"><label for="state" class="bt1">State:</label>
                                                <input type="text" disabled="disabled" placeholder="State"
                                                    class="form-control" v-model="event.eventState">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="d-flex justify-content-end" v-if="index !== 0">
                                        <a href="#" class="btn btn-primary btn-icon"
                                            @click.prevent="removeEventDetails(event)">
                                            <div class="button-icon">
                                                {% include "templates/components/icon.twig" with { iconName: 'close', iconSize: 's' } %}
                                            </div>
                                            <span class="button-text">Remove</span>
                                        </a>
                                    </div>

                                </div>
                                <!-- add event end -->

                                <div class="d-flex justify-content-end mb-3">
                                    <a href="#" @click.prevent="addEventDetails()" class="btn btn-secondary btn-icon">
                                        <div class="button-icon">
                                            {% include "templates/components/icon.twig" with { iconName: 'plus', iconSize: 's' } %}
                                        </div>
                                        <span class="button-text">Add Additional Event(s)</span>
                                    </a>
                                </div>

                                <div class="pt-4 wizard-navigation d-none d-md-flex">
                                    <a href="#" role="button" class="btn btn-default btn-outline-primary"
                                        @click.prevent="goToPrevStep()">Back</a>
                                    <button class="btn btn-default btn-primary">Continue</button>
                                </div>

                            </div>


                            <div class="col-12 col-md-4">
                                {% include "templates/components/ttk-summary-pane.twig" %}
                            </div>
                        </div>
                    </div>

                    <div class="container pt-4 wizard-navigation d-md-none">
                        <button type="reset" class="btn btn-default btn-primary  mb-3 mb-md-0">Continue</button>
                        <a href="#" role="button" class="btn btn-default btn-outline-primary"
                            @click="goToPrevStep()">Back</a>
                    </div>
                </fieldset>

                <fieldset class="wizard-section-3" v-if="currStep && currStep.step == 3">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 col-md-8">
                                <div class="bg-w py-5 px-4 mb-4">
                                    <div class="d-flex">
                                        <h2 class="p2 mb-4">Personal Details #1</h2>
                                        <span>
                                            {% include "templates/components/tool-tip.twig" with {
                                                     toolContent: 'You or your spouse-to-be must be Malaysian or Permanent Resident of Malaysia.'    
                                                } %}
                                        </span>
                                    </div>

                                    <div class="row">
                                        {% verbatim %}


                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label for="policyHolderName" class="bt1">Name (as per
                                                        NRIC):</label>
                                                    <input type="text" name="Name as per" :class="{
                                                            'form-control': true,
                                                            'is-invalid': errors.length > 0
                                                        }" placeholder="E.g.:Jack Lee"
                                                        v-model="formData['3'].policyHolderName">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>


                                        <div class="col-12 col-md-6">

                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label for="policyHolderNRIC" class="bt1">NRIC No.:</label>
                                                    <input type="text" name="NRIC" :class="{
                                                        'form-control': true,
                                                        'is-invalid': errors.length > 0
                                                    }" placeholder="E.g.: 900101-01-1234"
                                                        v-model="formData['3'].policyHolderNRIC">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>

                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label for="policyHolderEmail" class="bt1">Email:</label>
                                                    <input type="text" name="Email" :class="{
                                                                'form-control': true,
                                                                'is-invalid': errors.length > 0
                                                            }" placeholder="E.g.: hteoro@gmail.com"
                                                        v-model="formData['3'].policyHolderEmail">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>

                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label for="policyHolderMobileNo" class="bt1">Mobile No.:</label>
                                                    <input type="text" name="Mobile" :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': errors.length > 0
                                                                    }" placeholder="E.g: 01x-xxxxxxx"
                                                        v-model="formData['3'].policyHolderMobileNo">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>

                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label for="policyHolderAddressLine1" class="bt1">Address:</label>
                                                    <input type="text" name="address" :class="{
                                                                                'form-control': true,
                                                                                'is-invalid': errors.length > 0
                                                                            }" placeholder="E.g: 01x-xxxxxxx"
                                                        v-model="formData['3'].policyHolderAddressLine1">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                            <div class="form-group">
                                                <input v-model="formData['3'].policyHolderAddressLine2" type="text"
                                                    placeholder="Second Line" class="form-control">
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group variant-icon">
                                                    <label for="addressPostCode" class="bt1">Postcode:</label>
                                                    <div class="input-wrapper">
                                                        <input type="text" :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': errors.length > 0
                                                                    }" placeholder="Find postcode" name="Postal code"
                                                            v-model="formData['3'].addressPostCode">
                                                        <svg class="icon icon-s mr-2">
                                                            <use xlink:href="spa-assets/icons/icons.svg#sprite-search"
                                                                href="spa-assets/icons/icons.svg#sprite-search"></use>
                                                        </svg>
                                                    </div>
                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>


                                        <div class="col-12 col-md-6">
                                            <div class="form-group"><label for="city" class="bt1">City:</label>
                                                <input id="city" type="text" disabled="disabled" placeholder="city"
                                                    class="form-control">
                                            </div>
                                        </div>

                                        <div class="col-12 col-md-6">
                                            <div class="form-group">
                                                <label for="state" class="bt1">State:</label>
                                                <input id="state" type="text" disabled="disabled" placeholder="state"
                                                    class="form-control"></div>
                                        </div>
                                        {% endverbatim %}
                                    </div>
                                </div>


                                <div class="bg-w py-5 px-4 mb-4">
                                    <div class="d-flex">
                                        <h2 class="p2 mb-4">Spouse-to-be Details</h2>
                                    </div>
                                    {% verbatim %}
                                    <div class="row">

                                        <div class="col-md-6 col-12">
                                            <div class="d-flex mb-3">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="id_type"
                                                        value="nric" id="id_type1"
                                                        v-model="formData['3'].policyHolderIdType">
                                                    <label class="form-check-label" for="id_type1">NRICradio</label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="id_type"
                                                        value="passport" id="id_type2"
                                                        v-model="formData['3'].policyHolderIdType">
                                                    <label class="form-check-label" for="id_type2">Passport</label>
                                                </div>
                                            </div>

                                            <div class="d-flex flex-column">
                                                <validation-provider v-slot="{ errors }"
                                                    :rules="{ required: !isIdNric }">
                                                    <div class="form-group" v-if="!isIdNric">
                                                        <label class="bt1">Country:</label>
                                                        <select :class="{
                                                                    'form-control': true,
                                                                    'is-invalid': errors.length > 0
                                                                }" v-model="formData['1'].country">
                                                            <option disabled hidden selected value="">Select a country
                                                            </option>
                                                            <option v-for="country in countries"
                                                                v-bind:key="country.code" :value="country.code">
                                                                {{ country.name }}
                                                            </option>
                                                        </select>
                                                        <div class="invalid-feedback">
                                                            * Complete the country field.
                                                        </div>
                                                    </div>
                                                </validation-provider>
                                            </div>
                                        </div>



                                    </div>

                                    <!-- malaysian -->
                                    <div class="row" v-if="isIdNric">

                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label class="bt1">Name (as per
                                                        NRIC):</label>
                                                    <input type="text" name="Name as per" :class="{
                                                                    'form-control': true,
                                                                    'is-invalid': errors.length > 0
                                                                }" placeholder="E.g.:Jack Lee"
                                                        v-model="formData['3'].mName1">

                                                    <div class="invalid-feedback">
                                                        *Complete the Family Member Name field.
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>


                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label class="bt1">NRIC No.:</label>
                                                    <input type="text" name="NRIC" :class="{
                                                                'form-control': true,
                                                                'is-invalid': errors.length > 0
                                                            }" placeholder="E.g.: 900101-01-1234"
                                                        v-model="formData['3'].mnric1">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>


                                    </div>

                                    <!-- non malaysian -->
                                    <div class="row" v-if="!isIdNric">
                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label class="bt1">Name (as per Passport):</label>
                                                    <input type="text" name="Name as per" :class="{
                                                                            'form-control': true,
                                                                            'is-invalid': errors.length > 0
                                                                        }" placeholder="E.g.:Jack Lee"
                                                        v-model="formData['3'].nmName1">

                                                    <div class="invalid-feedback">
                                                        *Complete the Family Member Passport field.
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>


                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group">
                                                    <label class="bt1">Passport No.:</label>
                                                    <input type="text" name="NRIC" :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': errors.length > 0
                                                                    }" placeholder="E.g.: A1567932"
                                                        v-model="formData['3'].nmPassport1">

                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>

                                        <div class="col-12 col-md-6">
                                            <div class="form-group">
                                                <label class="bt1">Gender:</label>
                                                <select class="form-control">
                                                    <option disabled="disabled" hidden="hidden" selected="selected"
                                                        value="">
                                                        Select Option
                                                    </option>
                                                    <option value="Male">Male</option>
                                                    <option value="Femaale"> Female</option>
                                                </select>
                                            </div>
                                        </div>


                                        <div class="col-12 col-md-6">
                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <label class="bt1">Date of Birth:</label>
                                                <div class="form-group variant-date-picker mb-0">
                                                    <datepicker :class="{
                                                                'form-control': true,
                                                                'is-invalid': errors.length > 0
                                                            }" placeholder="DD/MM/YYYY" :format="customDateFormatter"
                                                        v-model="formData['3'].date1">
                                                    </datepicker>
                                                </div>
                                                <div class="invalid-feedback">
                                                    *Complete the Family Member DOB field.
                                                </div>
                                            </validation-provider>
                                        </div>


                                    </div>
                                    {% endverbatim %}
                                </div>


                                <div class="pt-4 wizard-navigation d-none d-md-flex">
                                    <a href="#" role="button" class="btn btn-default btn-outline-primary"
                                        @click.prevent="goToPrevStep()">Back</a>
                                    <button class="btn btn-default btn-primary">Continue</button>

                                </div>
                            </div>

                            <div class="col-12 col-md-4">
                                {% include "templates/components/ttk-summary-pane.twig" %}
                            </div>
                        </div>
                    </div>
                    <div class="container pt-4 wizard-navigation d-md-none">
                        <button class="btn btn-default btn-primary mb-3 mb-md-0">Continue</button>
                        <a href="#" role="button" class="btn btn-default btn-outline-primary "
                            @click="goToPrevStep()">Back</a>
                    </div>
                </fieldset>

                <fieldset class="wizard-section-4" v-if="currStep && currStep.step == 4">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 col-md-8">
                                <div class="bg-w pt-5 pb-3 px-4 mb-3">
                                    <h2 class="p2 mb-4">Personal Details</h2>

                                    {% set personalDetails = [
                                                { title: 'Name (as per NRIC):', vModel: "formData['3'].policyHolderName", error: "* Complete the Name as per NRIC field."},
                                                { title: 'NRIC No.:', vModel: "formData['3'].policyHolderNRIC", error: "* Complete the NRIC field."},
                                                { title: 'Email:', vModel: "formData['3'].policyHolderEmail", error: "* Complete the Email field."},
                                                { title: 'Mobile No.:', vModel: "formData['3'].policyHolderMobileNo", error: "* Complete the Mobile field."}
                                            ] %}

                                    <div class="row">
                                        {% for item in personalDetails %}
                                        <div class="col-12 col-md-6">
                                            <p class="bt1 mb-0">{{ item.title }}</p>
                                            <p class="bt2" v-html="{{ item.vModel }}" v-if="!personalEditMode"></p>

                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group" v-if="personalEditMode">
                                                    <input type="text" :class="{
                                                        'form-control': true,
                                                        'is-invalid': errors.length > 0
                                                    }" v-model="{{ item.vModel }}">

                                                    <div class="invalid-feedback">
                                                        {{ item.error }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>
                                        {% endfor %}


                                        <div class="col-12 col-md-6">
                                            <p class="bt1 mb-0">Address:</p>
                                            {% verbatim %}
                                            <p class="bt2" v-if="!personalEditMode">{{ fullAddress }}</p>

                                            <validation-provider v-slot="{ errors }" rules="required">
                                                <div class="form-group" v-if="personalEditMode">
                                                    <input type="text" name="address" :class="{
                                                    'form-control': true,
                                                    'is-invalid': errors.length > 0
                                                }" v-model="formData['3'].policyHolderAddressLine1">
                                                    <div class="invalid-feedback">
                                                        {{ errors[0] }}
                                                    </div>
                                                </div>
                                            </validation-provider>
                                            <div class="form-group" v-if="personalEditMode">
                                                <input type="text" class="form-control"
                                                    v-model="formData['3'].policyHolderAddressLine2">
                                            </div>
                                            {% endverbatim %}

                                        </div>
                                    </div>

                                    <div class="d-flex justify-content-end" v-if="!personalEditMode">
                                        <a href="#" @click.prevent="setPersonalEditMode(true)"
                                            class="btn btn-secondary btn-icon">
                                            <div class="button-icon">
                                                {% include "templates/components/icon.twig" with { iconName: 'pencil', iconSize: 's' } %}
                                            </div>
                                            <span class="button-text">Edit</span>
                                        </a>
                                    </div>

                                    <div class="d-flex justify-content-end mt-3" v-if="personalEditMode">
                                        <a href="#" @click.prevent="setPersonalEditMode(false)"
                                            class="btn btn-primary btn-icon mr-3">
                                            <div class="button-icon">
                                                {% include "templates/components/icon.twig" with { iconName: 'close', iconSize: 's' } %}
                                            </div>
                                            <span class="button-text">Cancel</span>
                                        </a>
                                        <button @click.prevent="setPersonalEditMode(false)"
                                            class="btn btn-default btn-secondary">Save</button>
                                    </div>
                                </div>

                                <div class="bg-w pt-5 pb-3 px-4 mb-3">
                                    <h2 class="p2 mb-4">Spouse</h2>

                                    <div class="row">
                                        <div class="col-12">
                                            <p class="bt1 mb-0">Nationality</p>
                                            <p class="bt2">Non-Malaysian</p>
                                            <div class="d-flex mb-4">
                                                <div class="form-check mb-1">
                                                    <input type="radio" class="form-check-input" value="Malaysian">
                                                    <label class="form-check-label">Malaysian</label>
                                                </div>
                                                <div class="form-check mb-1">
                                                    <input type="radio" class="form-check-input" value="Non-Malaysian"
                                                        checked>
                                                    <label class="form-check-label">Non-Malaysian</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    {% set nomineeDetails = [
                                                { title: 'Name (as per NRIC):', vModel: "formData['3'].mName1", error: "* Complete the Name as per NRIC filed." },
                                                { title: 'NRIC No.:', vModel: "formData['3'].mnric1", error: "* Complete the NRIC field." },

                                                { title: 'Name (as per Passport):', vModel: "formData['3'].nmName1", error: "* Complete the Name as per NRIC filed." },
                                                { title: 'Passport No.:', vModel: "formData['3'].nmPassport1", error: "* Complete the NRIC field." },
                                            ] %}


                                    <div class="row">
                                        {% for item in nomineeDetails %}
                                        <div class="col-12 col-md-6">
                                            <p class="bt1 mb-0">{{ item.title }}</p>
                                            <p class="bt2" v-if="!nomineeEditMode" v-html="{{ item.vModel }}"></p>
                                            <div class="form-group" v-if="nomineeEditMode">
                                                <input type="text" class="form-control" v-model="{{ item.vModel }}">
                                                <small
                                                    class="error-message text-primary font-italic">{{ item.error }}</small>
                                            </div>
                                        </div>
                                        {% endfor %}
                                    </div>

                                    <div class="d-flex justify-content-end" v-if="!nomineeEditMode">
                                        <a href="#" @click.prevent="setNomineeEditMode(true)"
                                            class="btn btn-secondary btn-icon">
                                            <div class="button-icon">
                                                {% include "templates/components/icon.twig" with { iconName: 'pencil', iconSize: 's' } %}
                                            </div>
                                            <span class="button-text">Edit</span>
                                        </a>
                                    </div>

                                    <div class="d-flex justify-content-end mt-3" v-if="nomineeEditMode">
                                        <a href="#" @click.prevent="setNomineeEditMode(false)"
                                            class="btn btn-primary btn-icon mr-3">
                                            <div class="button-icon">
                                                {% include "templates/components/icon.twig" with { iconName: 'close', iconSize: 's' } %}
                                            </div>
                                            <span class="button-text">Cancel</span>
                                        </a>
                                        <a href="#" @click.prevent="setNomineeEditMode(false)"
                                            class="btn btn-default btn-secondary">Save</a>
                                    </div>
                                </div>



                                <!-- <div class="bg-w pt-5 pb-3 px-4 mb-3">
                                    <h2 class="p2 mb-4">Nominee Details</h2>

                                    {% set nomineeDetails = [
                                                { title: 'Name (as per NRIC):', vModel: 'formData.nomineeName', error: "* Complete the Name as per NRIC filed." },
                                                { title: 'NRIC No.:', vModel: 'formData.nomineeNric', error: "* Complete the NRIC field." },
                                                { title: 'Mobile No.:', vModel: 'formData.nomineeMobileNo', error: "* Complete the Mobile field." },
                                                { title: 'Relationship:', vModel: 'formData.nomineeRelationToCustomer', error: "* Complete the Relationship field." },
                                            ] %}

                                    <div class="row">
                                        {% for item in nomineeDetails %}
                                        <div class="col-12 col-md-6">
                                            <p class="bt1 mb-0">{{ item.title }}</p>
                                            <p class="bt2" v-if="!nomineeEditMode" v-html="{{ item.vModel }}"></p>
                                            <div class="form-group" v-if="nomineeEditMode">
                                                <input type="text" class="form-control" v-model="{{ item.vModel }}">
                                                <small
                                                    class="error-message text-primary font-italic">{{ item.error }}</small>
                                            </div>
                                        </div>
                                        {% endfor %}
                                    </div>

                                    <div class="d-flex justify-content-end" v-if="!nomineeEditMode">
                                        <a href="#" @click.prevent="setNomineeEditMode(true)"
                                            class="btn btn-secondary btn-icon">
                                            <div class="button-icon">
                                                {% include "templates/components/icon.twig" with { iconName: 'plus', iconSize: 's' } %}
                                            </div>
                                            <span class="button-text">Edit</span>
                                        </a>
                                    </div>

                                    <div class="d-flex justify-content-end mt-3" v-if="nomineeEditMode">
                                        <a href="#" @click.prevent="setNomineeEditMode(false)"
                                            class="btn btn-primary btn-icon mr-3">
                                            <div class="button-icon">
                                                {% include "templates/components/icon.twig" with { iconName: 'close', iconSize: 's' } %}
                                            </div>
                                            <span class="button-text">Cancel</span>
                                        </a>
                                        <a href="#" @click.prevent="setNomineeEditMode(false)"
                                            class="btn btn-default btn-secondary">Save</a>
                                    </div>
                                </div> -->

                                {% embed "templates/components/input-variant-checkbox.twig" with {
                                            name: 'tncAgreement',
                                            vModel: 'formData.tncAgreement',
                                            spacing: 'mb-3'
                                        } %}
                                {% block content %}
                                By ticking this box, I hereby acknowledge that I have read the <a href="#"
                                    class="underline">Product Disclosure Sheet</a> and agree to the <a href="#"
                                    class="underline">Terms and Conditions</a>.
                                {% endblock %}
                                {% endembed %}

                                <div class="pt-4 wizard-navigation d-none d-md-flex">
                                    <a href="#" role="button" class="btn btn-default btn-outline-primary"
                                        @click.prevent="goToPrevStep()">Back</a>
                                    <button href="#" role="button" class="btn btn-default btn-primary" @click.prevent="goToNextStep()">Continue</button>
                                </div>
                            </div>
                            <div class="col-12 col-md-4">
                                {% include "templates/components/ttk-summary-pane.twig" %}
                            </div>
                        </div>
                    </div>
                    <div class="container pt-4 wizard-navigation d-md-none">
                        <button href="#" role="button"
                            class="btn btn-default btn-primary mb-3 mb-md-0">Continue</button>
                        <a href="#" role="button" class="btn btn-default btn-outline-primary "
                            @click="goToPrevStep()">Back</a>
                    </div>
                </fieldset>

                <fieldset class="wizard-section-5" v-if="currStep && currStep.step == 5">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 col-md-8">
                                    <div class="bg-w py-5 px-4 mb-3">
                                        <h2 class="p2 mb-4">Payment</h2>
                                        <p class="bt1 color-black font-weight-bold mb-0">Payment Method:</p>
                                        <div class="vertical-scroller mb-5">
                                            <div class="d-flex">
                                                {% embed "templates/components/selection-infobox.twig" with {
                                                        type: "radio",
                                                        name: "choosePayment",
                                                        value: "Online Banking",
                                                        classes: "mb-3 mb-lg-0 mr-3",
                                                        vModel: 'formData.paymentMethod'
                                                    
                                                    } %}
                                                {% block top %}
                                                <h3 class="m-0">Online Banking</h3>
                                                {% endblock %}
            
                                                {% block icon %}
                                                {% include "templates/components/icon.twig" with { iconName: 'fpx', iconSize: '4xl' } %}
                                                {% endblock %}
                                                {% endembed %}
                                                {% embed "templates/components/selection-infobox.twig" with {
                                                        type: "radio",
                                                        name: "choosePayment",
                                                        value: "Credit/Debit Card",
                                                        classes: "mb-3 mb-lg-0 mr-3",
                                                        vModel: 'formData.paymentMethod'
                                                    
                                                    } %}
                                                {% block top %}
                                                <h3 class="m-0">Credit/Debit Card</h3>
                                                {% endblock %}
            
                                                {% block icon %}
                                                {% include "templates/components/icon.twig" with { iconName: 'credit-card', iconSize: '4xl' } %}
                                                {% endblock %}
                                                {% endembed %}
                                                {% embed "templates/components/selection-infobox.twig" with {
                                                        type: "radio",
                                                        name: "choosePayment",
                                                        value: "E-Wallet",
                                                        classes: "mb-3 mb-lg-0 mr-3",
                                                        vModel: 'formData.paymentMethod'
                                                    
                                                    } %}
                                                {% block top %}
                                                <h3 class="m-0">E-Wallet</h3>
                                                {% endblock %}
            
                                                {% block icon %}
                                                {% include "templates/components/icon.twig" with { iconName: 'ewallets', iconSize: '4xl' } %}
                                                {% endblock %}
                                                {% endembed %}
                                            </div>
                                        </div>
            
                                        <div v-if="formData.paymentMethod === 'Credit/Debit Card'">
                                            <img src="spa-assets/img/visa-master-logo.jpg" alt="Visa and Mastercard logo"
                                                class="img-fluid mb-4">
                                            <div class="row">
                                                <div class="col-12 col-md-7">
                                                    <div class="form-group">
                                                        <label class="bt1">Card Number:</label>
                                                        <input class="form-control" type="text" placeholder="xxxx-xxxx-xxxx-xxxx"
                                                            name="cardNumber">
                                                        <small class="error-message text-primary font-italic">* Complete the Name as
                                                            per card field.</small>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="bt1">Name on Card:</label>
                                                        <input class="form-control" type="text" placeholder="Name on Card"
                                                            name="nameOnCard">
                                                        <small class="error-message text-primary font-italic">* Please enter a valid
                                                            Visa / MasterCard No.</small>
                                                    </div>
            
                                                    <div class="form-row">
                                                        <div class="form-group col-7">
                                                            <label class="bt1">Expiration Date:</label>
                                                            <input class="form-control" type="text" placeholder="MM/YY"
                                                                name="expirationDate">
                                                            <small class="error-message text-primary font-italic">* Complete the
                                                                Expiry (MM/YY) field.</small>
                                                        </div>
                                                        <div class="form-group col-5">
                                                            <label class="bt1">CVV:</label>
                                                            <input class="form-control" type="text" placeholder="xxx" name="CVV">
                                                            <small class="error-message text-primary font-italic">* Complete the CVC
                                                                field.</small>
                                                        </div>
                                                    </div>
            
                                                </div>
                                            </div>
                                        </div>
            
                                        <div v-if="formData.paymentMethod === 'Online Banking'">
                                            <p class="bt1 mb-2">Bank:</p>
            
                                            {% verbatim %}
                                            <select class="form-control">
                                                <option disabled hidden selected value="">Select a Bank</option>
                                                <option v-for="(bank, index) in banks" v-bind:key="index" :value="bank.name">
                                                    {{ bank.name }}</option>
                                            </select>
                                            {% endverbatim %}
            
                                            <p><small>Note: You need to have an active internet banking account with any of the FPX
                                                    performing banks to use FPX.</small></p>
            
                                            <p class="bt1 mb-2">Email Address: <small class="font-italic">(For transaction
                                                    status)</small></p>
            
                                            <div class="row">
                                                <div class="col-12 col-md-6">
                                                    <div class="form-group">
                                                        <input type="text" class="form-control" placeholder="e.g. hteoro@gmail.com">
                                                        <small class="error-message text-primary font-italic">* Complete the Email
                                                            field.</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
            
                                        <div v-if="formData.paymentMethod === 'E-Wallet'">
                                            <p class="bt1">Select Your Preferred E-Wallet:</p>
                                            {% include "templates/components/list-variant-bank.twig" with {
                                                    banks: [
                                                        { img: 'boost.jpg', name: 'Boost' }
                                                    ]
                                                } %}
                                        </div>
            
                                    </div>
                                    <div class="pt-4 wizard-navigation d-none d-md-flex">
                                        <a href="#" role="button" class="btn btn-default btn-outline-primary"
                                            @click.prevent="goToPrevStep()">Back</a>
                                        <a href="/payment-completed.html" role="button" class="btn btn-default btn-primary">Pay
                                            Now</a>
                                    </div>
                                </div>
                                <div class="col-12 col-md-4">
                                    {% include "templates/components/summary-pane.twig" %}
                                </div>
                            </div>
                        </div>
            
                        <div class="container pt-4 wizard-navigation d-md-none">
                            <p v-if="formData.paymentMethod === 'Online Banking'" class="bt2 mb-5">By clicking <strong>"Pay
                                    Now"</strong> button, you agree to FPX's <a href="#" target="_blank">Terms & Conditions</a>.</p>
            
                            <a href="#" role="button" class="btn btn-default btn-outline-primary mb-3 mb-md-0"
                                @click.prevent="goToPrevStep()">Back</a>
                            <a href="/payment-completed.html" role="button" class="btn btn-default btn-primary">Pay Now</a>
                        </div>
            
                </fieldset>

            </form>
        </validation-observer>
    </div>
</div>

{% endblock %}