<div id="travelrightPlus-form" class="form-wizard">

    <!-- The base URL for all the API calls -->
    <input type="hidden" name="tieBaseUrl" value="">

    <!-- Depending on the stage of the subscription journey, the form will behave differently. -->
    <input type="hidden" name="stage" value="{{ stage }}">

    <!-- Default Values -->
    <input type="hidden" name="productDisclosurePDFUri" value="${productDisclosurePDFUri}" />
    <input type="hidden" name="isFpxPaymentGateway" value="true" />
    <input type="hidden" name="isBoostPaymentGateway" value="false" />
    <input type="hidden" name="formula" value="travelright-plus">
    <input type="hidden" name="partnerCode" value="msigonline">
    <!--value="${prefixMobile}"-->
    <input type="hidden" name="prefixMobile" value="010|011|012|013|014|016|017|018|019"/>
    <input type="hidden" name="isInIframe" value="${isInIframe}">
    <input type="hidden" name="productCode" value="MOT">
    <input type="hidden" name="productName" value="TravelRight Plus Insurance">
    <input type="hidden" name="productGroup" value="${product.getProductGroup()}" />
    <input type="hidden" name="certificateNo" value="$!esc.html($!request.getParameter('certificateNo'))"> 
    <input type="hidden" name="staffId" value="">
    <input type="hidden" name="staffRelationship" value="">
    <input type="hidden" name="branchCode" value="">
    <input type="hidden" name="supportTel" value="1-800-88-6744">
    <input type="hidden" name="thankYouPageUrl" value="/payment-completed.html">
    <input type="hidden" name="registrationUrl" value="/travelrightPlus-registration.html">
    <input type="hidden" name="summaryUrl" value="/travelrightPlus-summary.html">
    <input type="hidden" name="paymentUrl" value="/travelrightPlus-payment.html">
    <input type="hidden" name="productMinAge" value="18" />
    <input type="hidden" name="productMinAgeUnit" value="year" />
    <input type="hidden" name="productMaxAge" value="69" />
    <input type="hidden" name="productMaxAgeUnit" value="year" />
    <input type="hidden" name="maxCoverDuration" value="$product.getMaxCoverDuration()" />
    <input type="hidden" name="maxCoverDurationUnit" value="$product.getMaxCoverDurationUnit()" />
    <input type="hidden" name="coveragePremiumRate" value="$product.getNormalRate()" />
    <input type="hidden" name="coveragePremiumUpgradeRate" value="$product.getUpgradeRate()" />
    <input type="hidden" name="commissionRate" value="25" />
	<input type="hidden" name="partnerName" value="msigonline" />
    <input type="hidden" name="discountRate" value="25" />
    <input type="hidden" name="serviceTaxRate" value="6" />
  
    <input type="hidden" name="additionalCoverageSpouseMaxAge" value="70" />
    <input type="hidden" name="additionalCoverageSpouseMaxAgeUnit" value="year" />
    <input type="hidden" name="additionalCoverageSpouseMinAge" value="18" />
    <input type="hidden" name="additionalCoverageSpouseMinAgeUnit" value="year" />
    <input type="hidden" name="additionalCoverageSpouseMaxPax" value="1" />
    <input type="hidden" name="additionalCoverageChildMaxAge" value="17" />
    <input type="hidden" name="additionalCoverageChildMaxAgeUnit" value="year" />
    <input type="hidden" name="additionalCoverageChildMinAge" value="31" />
    <input type="hidden" name="additionalCoverageChildMinAgeUnit" value="day" />
    <input type="hidden" name="additionalCoverageChildMaxPax" value="5" />

    <div id="tnc-modal" class="modal fade variant-tnc">
        <div class="modal-dialog partial-screen-modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-w">
                    <button class="modal-header-btn button-icon btn-close" data-dismiss="modal">
                        <svg class="icon icon-s">
                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-close-popup"
                                href="/spa-assets/icons/icons.svg#sprite-close-popup"></use>
                        </svg>
                    </button>
                </div>
                <div class="py-5 px-4 content-container">
                    <p><strong>Terms and Conditions</strong></p>
                    <p><br>You hereby acknowledge that you have read the Terms of Use, Product Disclosure Sheet and understood the policy terms and conditions stated in the master policy and wish to proceed with the purchase of this policy.</p>
                    <p>You must take reasonable care not to misrepresent when answering questions herein or in any request made by MSIG and check the information you have provided is complete and accurate. You should also disclose all relevant information which may influence MSIG in the acceptance of this insurance, decide the terms and the premium you will pay. If you do not take reasonable care and the information provided by you is incomplete or inaccurate, this may affect your claim. Your responsibility to provide complete and accurate information when requested by MSIG shall continue until the time of you entering into, making changes to or renewing your insurance. Unless renewed, the coverage will cease on expiry date and we shall strictly not be liable for any expenses that take place after the expiry date.</p>
                    <p>With respect to personal information submitted herein, you hereby consent to MSIG to process your personal information for the purpose of processing your application herein. Where applicable, you also confirm that you have obtained the consent from the person(s) named herein and that you are duly authorized to disclose their personal information herein. For more information our Privacy Policy, please read our Terms of Use.&nbsp;Kindly read our Privacy Notice at<a href="https://www.msig.com.my/privacy-notice/" target="_blank" class="donFunction text-danger">www.msig.com.my </a>for details.<br><br><strong>Tax Clause&nbsp;</strong><br><br>You are obligated to pay any applicable taxes (which include but not limited to service tax and stamp duty) imposed by the Malaysian tax authorities in relation to this Policy, with effective from 1<sup>st</sup> September 2018.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="full-benefits" class="modal fade variant-tnc">
        <div class="modal-dialog partial-screen-modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-w">
                    <button class="modal-header-btn button-icon btn-close" data-dismiss="modal">
                        <svg class="icon icon-s">
                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-close-popup"
                                href="/spa-assets/icons/icons.svg#sprite-close-popup"></use>
                        </svg>
                    </button>
                </div>
                <div class="p-5 content-container text-center">
                    <p><strong>Upgrade your plan and travel without worries</strong></p>
                    <p><br>Protect yourself and your loved ones as you travel in the new normal, with a COVID-19 Add-On for your MSIG TravelRight Plus Insurance plan.</p>
                    <p>Choose your COVID-19 Add-On plan now.</p>
                    <hr class="benefit-line"/>
                    <p>The following add-on will be included in your new plan:</p>
                    
                    <div class="text-center benefit-darkblue mb-4">
                        <svg class="icon icon-s mr-1 mb-1"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                        <span class="bold">COVID-19 Add-On</span>
                    </div>

                    <button class="btn btn-default btn-outline-primary order-1 order-md-0 mr-md-4 modal-header-btn button-icon btn-close" data-dismiss="modal">Maybe Next Time</button>
                    <button class="btn btn-default btn-primary modal-header-btn button-icon btn-close" data-dismiss="modal">Upgrade Now</button>
                </div>
            </div>
        </div>
    </div>

    {% verbatim %}
        <div class="bg-w" v-if="canProceed">
            <div class="container py-5">
                <h1>TravelRight Plus Insurance</h1>
                <!-- Steppers -->
                <div class="nav variant-steppers">
                    <div :class="{
                        'nav-item step': true,
                        'current': currStep == step,
                        'completed': step.completed
                    }" v-for="step in steps" v-bind:key="steps.indexOf(step)">
                        <div class="step-indicator">
                            <span>
                                {{ step.stepNum }}
                            </span>
                            <svg class="icon icon-s tick-mark">
                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                            </svg>
                        </div>
                        <div class="step-title">{{ step.title }}</div>
                    </div>
                </div>
                <!-- Steppers -->
            </div>
        </div>

        <div class="bg-p2d pt-5 wizard-sections position-relative" v-if="canProceed">
            <validation-observer v-slot="observer" ref="form">
                <form @submit.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() });">

                    <fieldset class="wizard-section-1" v-if="currStep && currStep.stepNum === '1'">
                        <div class="container">
                            
                            <div class="bg-w py-5 px-md-5 px-3 mx-md-2" v-if="currentPreScreen <= 2">
                                <h2 class="p2">Get Started</h2>                      

                                <div class="bt2 mt-4" v-if="currentPreScreen == 1">
                                    <p>
                                        Please make sure you meet the following conditions:
                                    </p>
                                    <ol class="pl-3">
                                        <li>The journey you intend to insure begins and ends in Malaysia.</li>
                                        <li>You are between 18 and 69 years.</li>
                                    </ol>
                                    <div class="d-block">
                                        <div class="mt-4 mb-2 ">
                                            <b>Note:</b>
                                            <p class="mt-2">Please contact us <a class="underline text-danger" target="_blank" href="../../home/contact-us.html">here</a> for your insurance application if:</p>
                                        </div>

                                        <div class="d-flex">
                                                <p class="m-0">i.&nbsp;&nbsp;</p>
                                                <p class="m-0">You are above 69 years old; <b>OR</b></p>
                                        </div>
                                        <div class="d-flex">
                                                <p class="m-0">ii.&nbsp;</p>
                                                <p class="m-0">You are purchasing travel insurance only for your child (below 18 years old).</p>
                                        </div>
                                    </div>

                                </div>

                                <p class="bt2 mt-4" v-if="currentPreScreen == 2">Please enter the details of Insured Person</p>

                                <div class="row mt-2 pt-2" v-if="currentPreScreen == 2">
                                
                                    <div class="col-md-6 col-lg-4 col-12">
                                        <div class="d-flex mb-3">
                                            <div class="form-check">
                                                <input class="form-check-input" 
                                                    type="radio"
                                                    name="id_type"
                                                    value="nric"
                                                    id="id_type1"
                                                    v-model="formData['1'].policyHolderIdType">
                                                <label class="form-check-label bt1" for="id_type1">NRIC No.:</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input"
                                                    type="radio"
                                                    name="id_type"
                                                    value="passport"
                                                    id="id_type2"
                                                    v-model="formData['1'].policyHolderIdType" >
                                                <label class="form-check-label bt1" for="id_type2">Passport No.:</label>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-column">
                                            <div class="form-group" v-if="!isIdNric">
                                                <validation-provider v-slot="validator" :rules="{ required: !isIdNric }">                                                
                                                        <select :class="{
                                                            'form-control': true,
                                                            'is-invalid': validator.errors.length > 0
                                                            }" v-model="formData['1'].policyHolderCountry">
                                                            <option disabled hidden selected value="">Select Country as per Passport</option>
                                                            <option v-for="country in countries"
                                                                v-bind:key="countries.indexOf(country)"
                                                                :value="country.code">
                                                                {{ country.name }}
                                                            </option>
                                                        </select>
                                                        <div class="invalid-feedback font-italic">
                                                            <span>* Complete the Country field.</span>
                                                        </div>
                                                
                                                </validation-provider>                                                
                                            </div>

                                            <div class="d-md-none" v-if="!isIdNric">
                                             <validation-provider v-slot="validator"
                                                    :rules="{
                                                        'required': true,
                                                    }" mode="eager" ref="Passport1">
                                                    <div class="form-group" v-on:keyup="$refs.Passport1.reset()">
                                                        <input type="text"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            :name="'Passport'"
                                                            :placeholder="'E.g.: A98765432'"
                                                            v-mask=" 'XXXXXXXXXXXXXX'"
                                                            v-model="formData['1'].policyHolderNric"
                                                            autocomplete="off">
                                                        <div class="invalid-feedback font-italic">
                                                            <span v-if="validator.failedRules.required">* Complete the Passport No field.</span>
                                                        </div>
                                                    </div>
                                                </validation-provider>
                                            </div>

                                            <div class="form-group"  v-if="isIdNric">
                                                <validation-provider v-slot="validator" v-if
                                                    :rules="{
                                                        'required': true,
                                                        'nricValidDob': isIdNric,
                                                        'nricAge18AndAbove': isIdNric,
                                                        'min': isIdNric && {
                                                            length: 14
                                                        }
                                                    }" mode="eager" ref="nric1">
                                                    
                                                        <input type="text"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            :name="'NRIC'"
                                                            :placeholder="'E.g.: 900808-10-8888'"
                                                            v-mask="'######-##-####'"
                                                            v-model="formData['1'].policyHolderNric"
                                                            autocomplete="off"
                                                            v-on:keyup="$refs.nric1.reset()">
                                                        <div class="invalid-feedback font-italic">
                                                            <span v-if="validator.failedRules.required">* Complete the NRIC field.</span>
                                                            <span v-else-if="validator.failedRules.nricValidDob || validator.failedRules.min">Please check NRIC number.</span>
                                                            <span v-else-if="validator.failedRules.nricAge18AndAbove">Policyholder age must be between 16 and 69 years.</span>
                                                        </div>                                                    
                                                </validation-provider>
                                            </div>
                                        </div>
                                        
                                    </div>

                                    <div class="col-md-6 col-12 col-lg-4 d-none d-md-block " v-if="!isIdNric">
                                        <!-- Don't change this value as this is for their CMS -->
                                         <div class="d-flex mb-3" style="visibility:hidden">
                                            <div class="form-check">
                                                  <input class="form-check-input"
                                                    type="radio" >
                                                    <!--for="id_type1"-->
                                                <p class="form-check-label" style="font-size: 18px; font-weight: 700;">NRIC No.:</p>
                                            </div>
                                            <div class="form-check">
                                                 <input class="form-check-input"
                                                    type="radio" >
                                                    <!-- for="id_type2"-->
                                                <p class="form-check-label" style="font-size: 18px; font-weight: 700;">Passport No.:</p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-lg-6">
                                                <validation-provider v-slot="validator"
                                                    :rules="{
                                                        'required': true,
                                                    }" mode="eager" ref="passport1">
                                                    <div class="form-group" v-on:keyup="$refs.passport1.reset()">
                                                        <input type="text"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            :name="'Passport'"
                                                            :placeholder="'E.g.: A98765432'"
                                                            v-mask=" 'XXXXXXXXXXXXXX'"
                                                            v-model="formData['1'].policyHolderNric"
                                                            autocomplete="off">
                                                        <div class="invalid-feedback font-italic">
                                                            <span v-if="validator.failedRules.required">* Complete the Passport No field.</span>
                                                        </div>
                                                    </div>
                                                </validation-provider>
                                            </div>
                                        </div>
                                    </div>
								</div>
								
								<div class="row" v-if="currentPreScreen == 2">
                                    <div class="col-md-6 col-lg-4 col-12" v-if="!isIdNric">
                                        <validation-provider v-slot="validator" :rules="{ 
                                            'required' : !isIdNric,
                                            'nonMalaysianMinAge' : !isIdNric
                                            }" mode="eager" ref="dob1">                                                
                                            <label class="bt1">Date of Birth: </label>
                                            <div class="form-group variant-date-picker mb-3" v-on:keyup="$refs.dob1.reset()">
                                                <div class="vdp-datepicker form-control" v-bind:class="{'is-invalid': validator.errors.length > 0}">
                                                    <Datepicker v-model="formData['1'].policyHolderDateOfBirth" 
                                                    :disabled-dates="disabledDatesDOB"
                                                    :initial-view="'year'"
                                                    :open-date="openDate()"
                                                    :input-class="'policyHolderDOB'"
                                                    format="dd/MM/yyyy" placeholder="DD/MM/YYYY"
                                                    @focusout.native="$refs.dob1.validate()">
                                                          <span slot="afterDateInput">
                                                                        <svg class="icon">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-calendar"
                                                                            href="/spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                                        </svg>
                                                                </span>
                                                    </Datepicker> 
                                                </div>
                                                <div class="small error-messages text-primary font-italic"  v-if="validator.errors.length > 0">
                                                    <span v-if="validator.failedRules.required">* Complete the date field.</span>
                                                    <span v-else-if="validator.failedRules.nonMalaysianMinAge">Main policyholder age must be between 16 and 69 Years.</span>
                                                </div>  
                                            </div>                                              
                                        </validation-provider>
                                     </div>

                                </div>


                                <div class="bt2 mt-2" v-if="currentPreScreen == 2">
                                    <validation-provider v-slot="validator" rules="mustBeTrue">
                                        <div class="form-check">
                                            <input type="checkbox"
                                                name="agreement"
                                                id="agreement"
                                                :class="{
                                                    'form-check-input': true,
                                                    'is-invalid': validator.errors.length > 0
                                                }"
                                                v-model="formData['1'].agreement">
                                            <label for="agreement" class="form-check-label">
                                                I have read and understood MSIG's <a target="_blank" href="https://www.msig.com.my/privacy-notice/" class="underline text-danger">Privacy Notice</a>, and
                                                agree to MSIG
                                                processing my personal data for the purposes and in the manners set out in the Privacy
                                                Notice.
                                            </label>
                                            <svg class="icon icon-m tick-mark">
                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                                    href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                            </svg>
                                            <div class="invalid-feedback font-italic tncErrorMsg pt-0" v-if="validator.errors.length > 0">
                                                * Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                            </div>
                                        </div>
                                    </validation-provider>
                                </div>
                            </div>
                        </div>
                        <div class="container pt-4 wizard-navigation d-flex flex-column flex-md-row">
                            <template v-if="steps[0].showStaffVerification">
                                <a :href="'/' + partnerCode + '/products'" class="btn btn-default btn-outline-primary order-1 order-md-0">Back</a>
                                <a href="#" role="button"
                                    class="btn btn-default btn-primary mb-3 mb-md-0"
                                    @click.prevent="verifyStaffID">
                                    Continue
                                </a>
                            </template>
                            <template v-else>
                                <a @click="canProceed = false; firstScreenError='firstScreenError';"
                                    class="btn btn-default btn-outline-primary order-1 order-md-0"
                                    v-if="currentPreScreen == 1">No</a>
                                <a href="#" 
                                    role="button"
                                    class="btn btn-default btn-primary mb-3 mb-md-0"
                                    v-if="currentPreScreen == 1"
                                    @click.prevent="setNextPrescreenQuestion()">
                                    Yes</a>
                            
                                <a class="btn btn-default btn-outline-primary order-1 order-md-0" 
                                    @click.prevent="setPrevPreScreenQuestion()"
                                    v-if="currentPreScreen == 2">Back</a>
                                <a href="#"
                                    @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })"
                                    class="btn btn-default btn-primary mb-3 mb-md-0" 
                                    role="button"
                                    v-if="currentPreScreen == 2">
                                    Continue
                                </a>
                              
                            </template>
                        </div>
                    </fieldset>
                    
                    <fieldset class="wizard-section-2" v-if="currStep && currStep.stepNum === '2'">
                        <div class="container">

                          <div class="row d-none">
                                <div class="col-12 col-md-6">
                                    <validation-provider v-slot="validator" :rules="{ required: false }"> 
                                        <div class="form-group">                                               
                                        </div>
                                    </validation-provider>
                                </div>
                            </div>

                            <!--<div class="row" v-if="currentPlanScreen == 1">-->
                            <div class="row">
                                <div class="col-12 col-lg-8">
                                    <div class="bg-w pt-5 pb-3 px-4 mb-3">
                                            <!-- Type of Coverage -->
                                            <div class="d-flex">
                                                <h2 class="p2 mb-4">Type of Coverage</h2>
                                            </div>                                            
                                            <div class="row">
                                                <div class="col-12 col-md-6">
                                                    <div>
                                                        <validation-provider v-slot="validator" :rules="{ required: true }" tag="div" :immediate="false"> 
                                                            <div>
                                                                <div class="form-check d-inline-block col-12 col-md-6 py-2">
                                                                    <input class="form-check-input" 
                                                                        type="radio"
                                                                        value="single"
                                                                        id="singleTrip"
                                                                        v-model="formData['2'].coverageType">
                                                                    <label class="form-check-label" for="singleTrip">Single Trip</label>
                                                                </div>
                                                                <div class="form-check d-inline-block py-2">
                                                                        <input class="form-check-input"
                                                                        type="radio"
                                                                        value="annual"
                                                                        id="annualCover"
                                                                        v-model="formData['2'].coverageType">
                                                                    <label class="form-check-label d-flex" for="annualCover">
                                                                        Annual Cover
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="small error-message text-primary font-italic pb-3">
                                                                <span class="mt-2" v-if="validator.failedRules.required">* Please choose a Coverage Type.</span>
                                                            </div>
                                                        <validation-provider/>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- Single: Area of Coverage-->
                                            <div v-if="formData['2'].coverageType != 'annual'">
                                                <div class="d-flex">
                                                    <h2 class="p2 mb-4">Area of Coverage</h2>
                                                </div>
                                                <div class="d-md-flex" v-bind:class="{'destination-required': !formData['2'].destinationDescValid}">
                                                    <div id="section-country-container" class="form-group">
                                                        <p class="bt2 py-0 mb-1 bold">Please specify the destination(s) that you are travelling to:</p>
                                                        <div id="country-wrapper">
                                                            <div id="country-token-label">
                                                                <div class="selected-token" v-for="selected in formData['2'].destinationDesc" :key="selected.split(' ').join('-')">
                                                                    <span>{{ selected }}</span>
                                                                    <div @click="removeSelectCountry(selected)" class="selected-close">Ã—</div>
                                                                </div>

                                                                <div id="input-wrapper">
                                                                    <input placeholder="Enter Your Destination" id="country-input" type="text" autocomplete="off">
                                                                    <svg class="icon icon-m mr-2">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-chevron"
                                                                            href="/spa-assets/icons/icons.svg#sprite-chevron"></use>
                                                                    </svg>
                                                                </div>
                                                            </div>
                                                            <div id="country-dropdown">
                                                                <ul>
                                                                    <li @click="addSelectCountry(country.countryName)" :class="{'d-none': country.area == formData['2'].coverageArea}" v-for="country in travelRightPlusCountries"
                                                                    >{{ country.countryName }}</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="small error-message text-primary font-italic py-0 pb-3">
                                                    <span v-if="!formData['2'].destinationDescValid">* Complete the Destination field.</span>
                                                </div>
                                            </div>

                                            <!-- Annual: Area of Coverage -->
                                            <div v-if="formData['2'].coverageType == 'annual'">
                                                <div class="row">
                                                    <div class="col-12 col-md-6">
                                                        <validation-provider rules="required" v-slot="validator" mode="eager" ref="coverageArea1">
                                                            <label class="bt1">Area of Coverage:</label>
                                                            <div class="form-group mb-3" v-on:keyup="$refs.coverageArea1.reset()">
                                                                <select class="form-control" v-bind:class="{'is-invalid': validator.errors.length > 0}" v-model="formData['2'].coverageArea">
                                                                    <option disabled hidden selected value="" class="italic">Select Area</option>
                                                                    <option value="1">Area 1</option>
                                                                    <option value="2">Area 2</option>
                                                                    <option value="3">Area 3</option>
                                                                    <option value="4">Area 4</option>
                                                                </select>
                                                                <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the Area field.</span>
                                                                </small>
                                                            </div>
                                                        </validation-provider>
                                                    </div>
                                                </div>
                                                <div class="row px-3" v-if="formData['2'].coverageArea != '' && formData['2'].coverageArea != null">
                                                    <p class="bt1 my-3">Locations covered in this area of coverage:</p>

                                                    <div class="pb-5" v-show="formData['2'].coverageArea == '1'">
                                                        <p>Australia, Brunei, Cambodia, China (excluding Tibet and Mongolia), Hong Kong, India, Indonesia, Japan, Korea, Laos, Macau, Maldives, Myanmar, New Zealand, Pakistan, Philippines, Singapore, South Korea, Sri Lanka, Taiwan, Thailand and Vietnam.</p>
                                                        <center><img src="spa-assets/img/area-1.jpg"/></center>
                                                        <!--<div class="text-center"><img src="/spa-assets/img/area-1.jpg"/></div>-->
                                                    </div>

                                                    <div class="pb-5" v-show="formData['2'].coverageArea == '2'">
                                                        <p>Europe, Tibet, Nepal, Mongolia, Bhutan and Countries in Area 1.</p>
                                                        <center><img src="spa-assets/img/area-2.jpg"/></center>
                                                        <!--<div class="text-center"><img src="/spa-assets/img/area-2.jpg"/></div>-->
                                                    </div>

                                                    <div class="pb-5" v-show="formData['2'].coverageArea == '3'">
                                                        <p>Worldwide and countries in Area 1 and 2 but excluding Afghanistan, Cuba, Democratic Republic of Congo, Iran, Iraq, Sudan and Syria.</p>
                                                        <center><img src="spa-assets/img/area-3.jpg"/></center>
                                                        <!--<div class="text-center"><img src="/spa-assets/img/area-3.jpg"/></div>-->
                                                    </div>

                                                    <div class="pb-5" v-show="formData['2'].coverageArea == '4'">
                                                        <p>Malaysia (single trip between Peninsular and East Malaysia and vice versa).</p>
                                                        <center><img src="spa-assets/img/area-4.jpg"/></center>
                                                        <!--<div class="text-center"><img src="/spa-assets/img/area-4.jpg"/></div>-->
                                                    </div>
                                                </div>
                                            </div>


                                            <!-- Period of Coverage -->
                                            <div class="d-flex">
                                                <h2 class="p2 pt-1 mb-4">Period of Coverage</h2>
                                            </div>                                            
                                            <div class="row mb-4">
                                                <div class="col-12 col-md-6">
                                                <validation-provider :rules="{
                                                        'required': true,
                                                        'validStartDate': true
                                                        }" v-slot="validator" mode="eager" ref="startDate1">
                                                    <div class="d-flex">
                                                        <p class="bt1 mb-2">Start Date:</p>
                                                        <!--
                                                        <span class="emailTooltip">
                                                            <div class="ml-2 btn-tooltip" data-toggle="tooltip"
                                                                data-placement="right"
                                                                title="The earliest coverage start date that you can choose is tomorrow.">
                                                                ?
                                                            </div>

                                                        </span>
                                                        -->
                                                    </div>

                                                    <div class=" form-group variant-date-picker mb-md-0" v-bind:class="{'is-invalid': validator.errors.length > 0,
                                                    'mb-0': validator.errors.length < 1}">
                                                        <div :class="{
                                                                'form-control': true,
                                                                'vdp-datepicker': true,
                                                                'is-invalid': validator.errors.length > 0,
                                                            }">
                                                           <Datepicker v-model="formData['2'].coverageStartDate" @focusout.native="$refs.startDate1.validate()"                                                      
                                                           :disabled-dates="disabledPolicyDates"
                                                           :open-date="openPolicyDate"
                                                           format="dd/MM/yyyy (D)" 
                                                           :placeholder="'Select Date'">
                                                                <span slot="afterDateInput">
                                                                        <svg class="icon">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-calendar"
                                                                            href="/spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                                        </svg>
                                                                </span>
                                                            </Datepicker> 
                                                            <div class="small error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                <span v-if="validator.failedRules.required">* Complete the Start Date.</span>
                                                                <span v-else-if="validator.failedRules.validStartDate">Policy start date must be starting from today.</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </validation-provider>
                                                </div>
                                                <!--v-if="formData['2'].coverageType != 'annual'"-->

                                                <div class="col-12 col-md-6">
                                                    <validation-provider :rules="{
                                                            'required': true,
                                                            'validStartDate': formData['2'].coverageType == 'annual' ? false : true
                                                            }" v-slot="validator" mode="eager" ref="endDate1">
                                                        <div class="d-flex">
                                                            <p class="bt1 mb-2">End Date:</p>
                                                        </div>

                                                        <div class=" form-group variant-date-picker mb-md-0" v-bind:class="{'is-invalid': validator.errors.length > 0,
                                                        'mb-0': validator.errors.length < 1}">
                                                            <div :class="{
                                                                    'form-control': true,
                                                                    'vdp-datepicker': true,
                                                                    'is-invalid': validator.errors.length > 0,
                                                                }" :disabled="formData['2'].coverageType == 'annual'">
                                                            <Datepicker v-model="formData['2'].coverageEndDate" @focusout.native="$refs.endDate1.validate()"                                                      
                                                            :disabled-dates="disabledPolicyEndDates"
                                                            :open-date="formData['2'].coverageStartDate || new Date()"
                                                            format="dd/MM/yyyy (D)" 
                                                            :placeholder="'Select Date'"
                                                            :disabled="formData['2'].coverageType == 'annual'">
                                                                    <span slot="afterDateInput">
                                                                            <svg class="icon">
                                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-calendar"
                                                                                href="/spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                                            </svg>
                                                                    </span>
                                                                </Datepicker> 
                                                                <div class="small error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the End Date.</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </validation-provider>
                                                </div>
  
                                                <!--
                                                <div class="col-12 col-md-6" v-if="formData['2'].coverageType == 'annual'">
                                                    <p class="bt1 mb-2 mt-3 mt-md-0">End Date:</p>
                                                    <div class="form-group variant-date-picker mb-0 ">
                                                        <div class="vdp-datepicker form-control" disabled>
                                                            <Datepicker v-model="formData['2'].coverageEndDate"
                                                           format="dd/MM/yyyy (D)" placeholder="End Date" disabled>
                                                                <span slot="afterDateInput">
                                                                        <svg class="icon">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-calendar"
                                                                            href="/spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                                        </svg>
                                                                </span>
                                                            </Datepicker> 
                                                            </div>
                                                    </div>
                                                </div>
                                                -->
                                            </div>

                                            <div class="mb-4">
                                                <p class="col-10 p-0">Please note that your coverage will terminate at the earliest happening of the following:</p>

                                                <p class="m-0">1. 24 hours upon your arrival in Malaysia.</p>
                                                <p class="m-0">2. Upon reaching your home or workplace in Malaysia (whichever is earlier).</p>
                                                <p class="m-0">3. Expiry date of your travel insurance policy.</p>

                                                <p class="col-10 p-0 mt-4">The following benefits will not be applicable for travel insurance purchased less than 7 days from travel start date:</p>

                                                <p class="m-0">1. Section 7: Travel Cancellation.</p>
                                                <p class="m-0">2. Section 14: Loss of Travel Deposit.</p>
                                            </div>
                                        </div>

                                        <div class="bg-w col-12 col-lg-12 px-0 mb-3" v-show="hidePlan">
                                            <div class="p-4 pt-5">
                                                <h2 class="p2">Please Select Your Preferred Plan</h2>
                                            </div>
                                            <div class="row px-4">
                                                <validation-provider :rules="{required: true}" v-slot="validator" tag="div">
                                                    <div class="d-lg-flex col">
                                                        <div class="selection-infobox mb-3 mb-lg-0 mr-lg-3">
                                                            <label class="block">
                                                                <input type="radio" name="preferredPlan" id="preferredPlan1" value="1" v-model="formData['2'].planName">
                                                                <div class="box hiddenRadius overflow-hidden">
                                                                    <div class="header-match-height">
                                                                        <div class="box--header bg-p2 text-white p-3">
                                                                            <p class="m-0"><span class="h3 w">Plan 1</span></p>
                                                                            <p class="m-0" v-if="plan1DisplayPremium"><span class="h3 w">RM{{plan1DisplayPremium}}</p>
                                                                        </div>
                                                                        <div class="box--body px-3 pt-0 pb-3 white-border-top">
                                                                            <div class="row py-2 pt-4">
                                                                                <div class="text-left col-6"><strong class="mr-2 mr-lg-0 bold">Benefits</strong></div>
                                                                                <div class="text-right col-6 pl-0"><strong class="ml-2 ml-lg-0 bold">RM</strong></div>

                                                                                <div class="text-left col-6"><strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong></div>
                                                                                <div class="text-right col-6 pl-0"><strong class="ml-2 ml-lg-0 no-bold">Up to</strong></div>
                                        
                                                                                <ul class="list variant-icon w-100 px-3 mb-0 pt-2">
                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Personal Accident</span>
                                                                                            <span class="mr-lg-0">250,000</span>
                                                                                        </div>
                                                                                    </li>
                                
                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Medical & Other Expenses</span>
                                                                                            <span class="mr-lg-0">300,000</span>
                                                                                        </div>
                                                                                    </li>

                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Emergency Medical Evacuation & Bringing Back to Malaysia*</span>
                                                                                            <span class="mr-lg-0">1,000,000</span>
                                                                                        </div>
                                                                                    </li>
                                                                
                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Luggage & Personal Effects</span>
                                                                                            <span class="mr-lg-0">5,000</span>
                                                                                        </div>
                                                                                    </li>

                                                                                    <li class="mb-0 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Luggage Delay</span>
                                                                                            <span class="mr-lg-0">800</span>
                                                                                        </div>
                                                                                    </li>
                                                                                    <li class="mb-1 row-match-height"><span class="mr-2 mr-lg-0 col-8 pl-0"><i>(Every 6 Consecutive Hours)</i></span></li>

                                                                                    <li class="mb-0 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Travel Delay</span>
                                                                                            <span class="mr-lg-0">3,600</span>
                                                                                        </div>
                                                                                    </li>
                                                                                    <li class="mb-3 row-match-height"><span class="mr-2 mr-lg-0 col-8 pl-0"><i>(First 4 Consecutive Hours of Delay & Every Subsequent 6 Consecutive Hours of Delay)</i></span></li>
                                                                                </ul>
                                                                                <div class="text-center py-2 w-100">
                                                                                    <div class="custom-rounded-checked">
                                                                                        <svg class="icon icon-m tick-mark my-2">
                                                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                        </svg>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </label>
                                                        </div>
                                                        <div class="selection-infobox mb-3 mb-lg-0 ml-lg-3">
                                                            <label class="block">
                                                                <input type="radio" name="preferredPlan" id="preferredPlan2" value="2" v-model="formData['2'].planName">
                                                                <div class="box hiddenRadius overflow-hidden">
                                                                    <div class="header-match-height">
                                                                        <div class="box--header bg-p2 text-white p-3">
                                                                            <p class="m-0"><span class="h3 w">Plan 2</span></p>
                                                                            <p class="m-0" v-if="plan2DisplayPremium"><span class="h3 w">RM{{plan2DisplayPremium}}</p>
                                                                        </div>
                                                                        <div class="box--body px-3 pt-0 pb-3 white-border-top">
                                                                            <div class="row py-2 pt-4">
                                                                                <div class="text-left col-6"><strong class="mr-2 mr-lg-0 bold">Benefits</strong></div>
                                                                                <div class="text-right col-6 pl-0"><strong class="ml-2 ml-lg-0 bold">RM</strong></div>

                                                                                <div class="text-left col-6"><strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong></div>
                                                                                <div class="text-right col-6 pl-0"><strong class="ml-2 ml-lg-0 no-bold">Up to</strong></div>
                                        
                                                                                <ul class="list variant-icon w-100 px-3 mb-0 pt-2">
                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Personal Accident</span>
                                                                                            <span class="mr-lg-0">350,000</span>
                                                                                        </div>
                                                                                    </li>
                                
                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Medical & Other Expenses</span>
                                                                                            <span class="mr-lg-0">400,000</span>
                                                                                        </div>
                                                                                    </li>

                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Emergency Medical Evacuation & Bringing Back to Malaysia*</span>
                                                                                            <span class="mr-lg-0">1,000,000</span>
                                                                                        </div>
                                                                                    </li>
                                                                
                                                                                    <li class="mb-1 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Luggage & Personal Effects</span>
                                                                                            <span class="mr-lg-0">7,500</span>
                                                                                        </div>
                                                                                    </li>

                                                                                    <li class="mb-0 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Luggage Delay</span>
                                                                                            <span class="mr-lg-0">1,000</span>
                                                                                        </div>
                                                                                    </li>
                                                                                    <li class="mb-1 row-match-height"><span class="mr-2 mr-lg-0 col-8 pl-0"><i>(Every 6 Consecutive Hours)</i></span></li>

                                                                                    <li class="mb-0 row-match-height">
                                                                                        <div class="list-icon">
                                                                                            <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                        </div>
                                                                                        <div class="list-content d-flex justify-content-between w-100">
                                                                                            <span class="mr-2 mr-lg-0 col-8 pl-0">Travel Delay</span>
                                                                                            <span class="mr-lg-0">4,000</span>
                                                                                        </div>
                                                                                    </li>
                                                                                    <li class="mb-3 row-match-height"><span class="mr-2 mr-lg-0 col-8 pl-0"><i>(First 4 Consecutive Hours of Delay & Every Subsequent 6 Consecutive Hours of Delay)</i></span></li>
                                                                                </ul>
                                                                                <div class="text-center py-2 w-100">
                                                                                    <div class="custom-rounded-checked">
                                                                                        <svg class="icon icon-m tick-mark my-2">
                                                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                        </svg>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <div class="p-3 pt-0 mr-lg-3">
                                                        <p>View the full benefits <a href="#" class="underline text-danger" @click.prevent="showFullBenefits">here</a>.</p>
                                                    </div>

                                                    <div class="small error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                        <span v-if="validator.failedRules.required">* Please Choose a Coverage Plan.</span>
                                                    </div>
                                                </validation-provider>
                                            </div>
                                            <!-- end plan-->
                                        </div>
                                        <!-- comment add on 1st
                                        <div class="bg-w col-12 col-lg-12 px-0" v-show="formData['2'].planName">
                                            <!--<validation-provider :rules="{required: true}" v-slot="validator" tag="div">
                                                <div class="swiper-container pb-4 pb-md-5 mb-3 mb-mb-0 pt-5">
                                                        <h2 class="p2 mb-4 px-4">COVID-19 Add-On</h2>
                                                        <div class="swiper-wrapper mx-2 px-4">
                                                            <!-- Card 1: Plan 1
                                                            <div class="swiper-slide selection-infobox selection-planbox mb-4">
                                                                <input type="radio" name="preferredOptPlan" id="preferredOptPlan1" value="1" v-model="formData['2'].optAddOnName">
                                                                <label class="block" for="preferredOptPlan1">
                                                                    <div class="box hiddenRadius overflow-hidden">
                                                                        <div class="header-match-height">
                                                                            <div class="box--header bg-p2 text-white p-4">
                                                                                <p class="m-0"><span class="h3 w">Plan 1</span></p>
                                                                                <p class="m-0"><span class="h3 w">RM{{}}</p>
                                                                            </div>
                                                                            <div class="box--body px-2 pt-2 pb-1 white-border-top">
                                                                                <div class="row py-2">
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 mr-lg-0 bold">Benefits</strong>
                                                                                    </div>
                                                                                    <div class="text-right col-6 pl-0">
                                                                                        <strong class="ml-2 ml-lg-0 bold">RM</strong>
                                                                                    </div>
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong>
                                                                                    </div>
                                            
                                                                                    <ul class="list variant-icon w-100 px-3 mb-0">
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Overseas Emergency Medical Expenses due to COVID-19</span>
                                                                                                <span class="mr-lg-0">20,000</span>
                                                                                            </div>
                                                                                        </li>
                                    
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Hospital Cash, Per Day, Maximum of 15 Days</span>
                                                                                                <span class="mr-lg-0 text-right">200/day</span>
                                                                                            </div>
                                                                                        </li>
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Repatriation of Mortal Remains including Burial and Cremation</span>
                                                                                                <span class="mr-lg-0">20,000</span>
                                                                                            </div>
                                                                                        </li>
                                                                                    </ul>
                                                                                    <div class="text-center py-3 w-100">
                                                                                        <div class="custom-rounded-checked">
                                                                                            <svg class="icon icon-m tick-mark my-2">
                                                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                            </svg>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>

                                                            <!-- Card 2: Plan 2
                                                            <div class="swiper-slide selection-infobox selection-planbox mb-4">
                                                                <input type="radio" name="preferredOptPlan" id="preferredOptPlan2" value="2" v-model="formData['2'].optAddOnName">
                                                                <label class="block" for="preferredOptPlan2">
                                                                    <div class="box hiddenRadius overflow-hidden">
                                                                        <div class="header-match-height">
                                                                            <div class="box--header bg-p2 text-white p-4">
                                                                                <p class="m-0"><span class="h3 w">Plan 2</span></p>
                                                                                <p class="m-0"><span class="h3 w">RM{{}}</p>
                                                                            </div>
                                                                            <div class="box--body px-2 pt-2 pb-1 white-border-top">
                                                                                <div class="row py-2">
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 mr-lg-0 bold">Benefits</strong>
                                                                                    </div>
                                                                                    <div class="text-right col-6 pl-0">
                                                                                        <strong class="ml-2 ml-lg-0 bold">RM</strong>
                                                                                    </div>
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong>
                                                                                    </div>
                                            
                                                                                    <ul class="list variant-icon w-100 px-3 mb-0">
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Overseas Emergency Medical Expenses due to COVID-19</span>
                                                                                                <span class="mr-lg-0">40,000</span>
                                                                                            </div>
                                                                                        </li>
                                    
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Hospital Cash, Per Day, Maximum of 15 Days</span>
                                                                                                <span class="mr-lg-0 text-right">200/day</span>
                                                                                            </div>
                                                                                        </li>
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Repatriation of Mortal Remains including Burial and Cremation</span>
                                                                                                <span class="mr-lg-0">40,000</span>
                                                                                            </div>
                                                                                        </li>
                                                                                    </ul>
                                                                                    <div class="text-center py-3 w-100">
                                                                                        <div class="custom-rounded-checked">
                                                                                            <svg class="icon icon-m tick-mark my-2">
                                                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                            </svg>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>

                                                            <!-- Card 3: Plan 3
                                                            <div class="swiper-slide selection-infobox selection-planbox mb-4">
                                                                <input type="radio" name="preferredOptPlan" id="preferredOptPlan3" value="3" v-model="formData['2'].optAddOnName">
                                                                <label class="block" for="preferredOptPlan3">
                                                                    <div class="box hiddenRadius overflow-hidden">
                                                                        <div class="header-match-height">
                                                                            <div class="box--header bg-p2 text-white p-4">
                                                                                <p class="m-0"><span class="h3 w">Plan 3</span></p>
                                                                                <p class="m-0"><span class="h3 w">RM{{}}</p>
                                                                            </div>
                                                                            <div class="box--body px-2 pt-2 pb-1 white-border-top">
                                                                                <div class="row py-2">
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 mr-lg-0 bold">Benefits</strong>
                                                                                    </div>
                                                                                    <div class="text-right col-6 pl-0">
                                                                                        <strong class="ml-2 ml-lg-0 bold">RM</strong>
                                                                                    </div>
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong>
                                                                                    </div>
                                            
                                                                                    <ul class="list variant-icon w-100 px-3 mb-0">
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Overseas Emergency Medical Expenses due to COVID-19</span>
                                                                                                <span class="mr-lg-0">80,000</span>
                                                                                            </div>
                                                                                        </li>
                                    
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Hospital Cash, Per Day, Maximum of 15 Days</span>
                                                                                                <span class="mr-lg-0 text-right">400/day</span>
                                                                                            </div>
                                                                                        </li>
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Repatriation of Mortal Remains including Burial and Cremation</span>
                                                                                                <span class="mr-lg-0">80,000</span>
                                                                                            </div>
                                                                                        </li>
                                                                                    </ul>
                                                                                    <div class="text-center py-3 w-100">
                                                                                        <div class="custom-rounded-checked">
                                                                                            <svg class="icon icon-m tick-mark my-2">
                                                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                            </svg>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>

                                                            <!-- Card 4: Plan 4 
                                                            <div class="swiper-slide selection-infobox selection-planbox mb-4">
                                                                <input type="radio" name="preferredOptPlan" id="preferredOptPlan4" value="4" v-model="formData['2'].optAddOnName">
                                                                <label class="block" for="preferredOptPlan4">
                                                                    <div class="box hiddenRadius overflow-hidden">
                                                                        <div class="header-match-height">
                                                                            <div class="box--header bg-p2 text-white p-4">
                                                                                <p class="m-0"><span class="h3 w">Plan 4</span></p>
                                                                                <p class="m-0"><span class="h3 w">RM{{}}</p>
                                                                            </div>
                                                                            <div class="box--body px-2 pt-2 pb-1 white-border-top">
                                                                                <div class="row py-2">
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 mr-lg-0 bold">Benefits</strong>
                                                                                    </div>
                                                                                    <div class="text-right col-6 pl-0">
                                                                                        <strong class="ml-2 ml-lg-0 bold">RM</strong>
                                                                                    </div>
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong>
                                                                                    </div>
                                            
                                                                                    <ul class="list variant-icon w-100 px-3 mb-0">
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Overseas Emergency Medical Expenses due to COVID-19</span>
                                                                                                <span class="mr-lg-0">120,000</span>
                                                                                            </div>
                                                                                        </li>
                                    
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Hospital Cash, Per Day, Maximum of 15 Days</span>
                                                                                                <span class="mr-lg-0 text-right">400/day</span>
                                                                                            </div>
                                                                                        </li>
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Repatriation of Mortal Remains including Burial and Cremation</span>
                                                                                                <span class="mr-lg-0">120,000</span>
                                                                                            </div>
                                                                                        </li>
                                                                                    </ul>
                                                                                    <div class="text-center py-3 w-100">
                                                                                        <div class="custom-rounded-checked">
                                                                                            <svg class="icon icon-m tick-mark my-2">
                                                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                            </svg>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>

                                                            <!-- Card 5: Plan 5
                                                            <div class="swiper-slide selection-infobox selection-planbox mb-4">
                                                                <input type="radio" name="preferredOptPlan" id="preferredOptPlan5" value="5" v-model="formData['2'].optAddOnName">
                                                                <label class="block" for="preferredOptPlan5">
                                                                    <div class="box hiddenRadius overflow-hidden">
                                                                        <div class="header-match-height">
                                                                            <div class="box--header bg-p2 text-white p-4">
                                                                                <p class="m-0"><span class="h3 w">Plan 5</span></p>
                                                                                <p class="m-0"><span class="h3 w">RM{{}}</p>
                                                                            </div>
                                                                            <div class="box--body px-2 pt-2 pb-1 white-border-top">
                                                                                <div class="row py-2">
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 mr-lg-0 bold">Benefits</strong>
                                                                                    </div>
                                                                                    <div class="text-right col-6 pl-0">
                                                                                        <strong class="ml-2 ml-lg-0 bold">RM</strong>
                                                                                    </div>
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong>
                                                                                    </div>
                                            
                                                                                    <ul class="list variant-icon w-100 px-3 mb-0">
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Overseas Emergency Medical Expenses due to COVID-19</span>
                                                                                                <span class="mr-lg-0">160,000</span>
                                                                                            </div>
                                                                                        </li>
                                    
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Hospital Cash, Per Day, Maximum of 15 Days</span>
                                                                                                <span class="mr-lg-0 text-right">600/day</span>
                                                                                            </div>
                                                                                        </li>
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Repatriation of Mortal Remains including Burial and Cremation</span>
                                                                                                <span class="mr-lg-0">160,000</span>
                                                                                            </div>
                                                                                        </li>
                                                                                    </ul>
                                                                                    <div class="text-center py-3 w-100">
                                                                                        <div class="custom-rounded-checked">
                                                                                            <svg class="icon icon-m tick-mark my-2">
                                                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                            </svg>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>

                                                            <!-- Card 6: Plan 6
                                                            <div class="swiper-slide selection-infobox selection-planbox mb-4">
                                                                <input type="radio" name="preferredOptPlan" id="preferredOptPlan6" value="6" v-model="formData['2'].optAddOnName">
                                                                <label class="block" for="preferredOptPlan6">
                                                                    <div class="box hiddenRadius overflow-hidden">
                                                                        <div class="header-match-height">
                                                                            <div class="box--header bg-p2 text-white p-4">
                                                                                <p class="m-0"><span class="h3 w">Plan 6</span></p>
                                                                                <p class="m-0"><span class="h3 w">RM{{}}</p>
                                                                            </div>
                                                                            <div class="box--body px-2 pt-2 pb-1 white-border-top">
                                                                                <div class="row py-2">
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 mr-lg-0 bold">Benefits</strong>
                                                                                    </div>
                                                                                    <div class="text-right col-6 pl-0">
                                                                                        <strong class="ml-2 ml-lg-0 bold">RM</strong>
                                                                                    </div>
                                                                                    <div class="text-left col-6">
                                                                                        <strong class="mr-2 ml-lg-0 mb-0 no-bold">Cover</strong>
                                                                                    </div>
                                            
                                                                                    <ul class="list variant-icon w-100 px-3 mb-0">
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Overseas Emergency Medical Expenses due to COVID-19</span>
                                                                                                <span class="mr-lg-0">200,000</span>
                                                                                            </div>
                                                                                        </li>
                                    
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Hospital Cash, Per Day, Maximum of 15 Days</span>
                                                                                                <span class="mr-lg-0 text-right">600/day</span>
                                                                                            </div>
                                                                                        </li>
                                                                                        <li class="mb-2 row-match-height">
                                                                                            <div class="list-icon">
                                                                                                <svg class="icon icon-s"><use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use></svg>
                                                                                            </div>
                                                                                            <div class="list-content d-flex justify-content-between w-100">
                                                                                                <span class="mr-2 mr-lg-0 col-7 pl-0">Repatriation of Mortal Remains including Burial and Cremation</span>
                                                                                                <span class="mr-lg-0">200,000</span>
                                                                                            </div>
                                                                                        </li>
                                                                                    </ul>
                                                                                    <div class="text-center py-3 w-100">
                                                                                        <div class="custom-rounded-checked">
                                                                                            <svg class="icon icon-m tick-mark my-2">
                                                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                                            </svg>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </label>
                                                            </div>

                                                            
                                                        </div>

                                                        <div class="swiper-button-next swiper-button-next-form swiper-button-next-overwrite">
                                                            <svg class="icon icon-m w swiperIcon">
                                                                <use href="/spa-assets/icons/icons.svg?#sprite-chevron"></use>
                                                            </svg>
                                                        </div>
                                                        <div class="swiper-button-prev swiper-button-prev-form swiper-button-prev-overwrite">
                                                            <svg class="icon icon-m w swiperIcon">
                                                                <use href="/spa-assets/icons/icons.svg?#sprite-chevron"></use>
                                                            </svg>
                                                        </div>
                                                    <div class="swiper-pagination py-4"></div>
                                                </div>
                                                <!-- swiper container end 
                                            <!--</validation-provider>
                                        </div>
                                        -->
                                    
                                    <div class="pt-4 wizard-navigation d-md-flex">
                                        <a @click.prevent="goToPrevStep()" href="#" role="button" class="btn btn-default btn-outline-primary order-1 order-md-0">Back</a>
                                        <!--<a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })"
                                            href="#"
                                            role="button"
                                            class="btn btn-default btn-primary mb-3 mb-md-0"
                                            v-if="currentPlanScreen == 1">Continue</a>-->
                                            <a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })"
                                            href="#"
                                            role="button"
                                            class="btn btn-default btn-primary mb-3 mb-md-0">Continue</a>
                                    </div>
                                </div>

                                <div class="col-12 col-lg-4">
                                    <travelrightplus-summary-pane 
                                        :curr-step-num="currStep.stepNum"
                                        :form-data="formData"
                                    ></travelrightplus-summary-pane>
                                </div>
                            </div>
                        </div>
						<!-- 20210504 comment
                        <div class="container pt-4 wizard-navigation d-md-none">
                            <a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })" href="#" role="button" class="btn btn-default btn-primary mb-3 mb-md-0">Continue</a>
                            <a @click.prevent="goToPrevStep()" href="#" role="button" class="btn btn-default btn-outline-primary ">Back</a>
                        </div>
						20210504 comment-->
                    </fieldset>                    

                    <fieldset class="wizard-section-3" v-if="currStep && currStep.stepNum === '3'">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 col-lg-8">
                                    <div class="bg-w pt-5 pb-3 px-4 mb-4">
                                        <div class="d-flex">
                                            <h2 class="p2 mb-4">Personal Details</h2>
                                        </div>

                                        <div class="row" v-if="!isIdNric">
                                            <div class="col-12 col-md-6">
                                                <validation-provider v-slot="validator" :rules="{ required: !isIdNric }"> 
                                                    <label class="bt1">Country (as per Passport):</label>
                                                    <div class="form-group disabled" v-bind:class="{'is-invalid': validator.errors.length > 0}">                                               
                                                            <select :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0,
                                                                'disabled':true
                                                                }" v-model="formData['3'].policyHolderCountry" disabled=true>
                                                                <option disabled hidden selected value="formData['3'].policyHolderCountry">{{formData['3'].policyHolderCountry}}</option>
                                                                <option v-for="country in countries"
                                                                    v-bind:key="countries.indexOf(country)"
                                                                    :value="country.code">
                                                                    {{ country.name }}
                                                                </option>
                                                            </select>
                                                             <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                <span v-if="validator.failedRules.required">* Complete the Country field.</span>
                                                            </small>
                                                            
                                                    </div>
                                                </validation-provider>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-12 col-md-6">
                                                <validation-provider rules="required|validName|max:70" v-slot="validator" mode="eager" ref="name1">
                                                    <div class="form-group" v-on:keyup="$refs.name1.reset()">
                                                        <label for="customerName" class="bt1">Name (as per {{isIdNric ? "NRIC" : "Passport"}}):</label>
                                                        <input type="text"
                                                            id="customerName"
                                                             placeholder="E.g.: Lee Siew Suan"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            v-model="formData['3'].policyHolderName"
                                                            autocomplete="off"
                                                           >
                                                        <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                            <span v-if="validator.failedRules.required">* Complete the Name as per {{isIdNric ? "NRIC" : "Passport"}} field.</span>
                                                            <span v-else-if="validator.failedRules.validName">Please enter only alphabet, "-", "@", "/" and " ' " for Name</span>
                                                            <span v-else-if="validator.failedRules.max">Member name cannot be greater than 70 characters.</span>
                                                        </small>
                                                    </div>
                                                </validation-provider>
                                            </div>

                                            <div class="col-12 col-md-6">
                                            <div class="form-group" >
                                                    <label class="bt1">{{isIdNric ? "NRIC" : "Passport"}} No.:</label>
                                                    <input type="text" 
                                                        class="form-control"
                                                        v-model="formData['1'].policyHolderNric"
                                                        placeholder="formData['1'].policyHolderNric"
                                                        disabled
                                                        v-mask="isIdNric ? '######-##-####' : 'XXXXXXXXXXXXXX'">
                                                </div>
                                                
                                            </div>

                                            <div class="col-12 col-md-6">
                                                <validation-provider rules="required|email" v-slot="validator" mode="eager"ref="email1">
                                                    <div class="form-group" v-on:keyup="$refs.email1.reset()">
                                                        <label class="bt1 d-flex">
                                                            Email: 
                                                            <span class="emailTooltip">
                                                                <div class="ml-2 btn-tooltip"
                                                                    data-toggle="tooltip"
                                                                    data-placement="right"
                                                                    title="Email address provided should be the insured's email address. Future email communications regarding this policy will be sent to the email address submitted. For policy renewal, kindly use the email address that is tied to your existing policy.">
                                                                    ?
                                                                </div>
                                                            </span>
                                                        </label>
                                                        <input type="text" 
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            v-model="formData['3'].policyHolderEmail"
                                                            placeholder="E.g.: you@gmail.com">
                                                        <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                            <span v-if="validator.failedRules.required">* Complete the Email field.</span>
                                                            <span v-else-if="validator.failedRules.email">Please enter a valid email address.</span>
                                                        </small>
                                                    </div>
                                                </validation-provider>
                                                
                                            </div>

                                            <div class="col-12 col-md-6">
                                              <validation-provider rules="required|mobileNumber" v-slot="validator" mode="eager" ref="mobile1">
                                                    <div class="form-group" v-on:keyup="$refs.mobile1.reset()">
                                                        <label class="bt1">Mobile No.:</label>
                                                        <input type="tel"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            v-mask="'###-### #####'"
                                                            v-model="formData['3'].policyHolderMobileNo"
                                                            placeholder="E.g.: 018-123 4567">
                                                        <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                            <span v-if="validator.failedRules.required">* Complete the Mobile field.</span>
                                                            <span v-else-if="validator.failedRules.mobileNumber">Please check mobile number.</span>
                                                        </small>
                                                    </div>
                                                </validation-provider>
                                            </div>

                                             <div class="col-12 col-md-6" v-if="!isIdNric"> 
                                                <validation-provider rules="required" v-slot="validator">                                                    
                                                        <p class="bt1 mb-2">Gender:</p>                                                        
                                                        <div class="form-group">                                                      
                                                            <select class="form-control" v-model="formData['3'].policyHolderGender" v-bind:class="{'is-invalid': validator.errors.length > 0}">
                                                                <option disabled hidden selected value="" class="italic">Select Gender
                                                                </option>
                                                                <option value="M">
                                                                    Male</option>
                                                                    <option value="F">
                                                                        Female</option>
                                                            </select>
                                                            <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                <span v-if="validator.failedRules.required">* Complete the Gender field.</span>
                                                            </small>
                                                        </div>
                                                </validation-provider>
                                            </div>

                                            <div class="col-12 col-md-6" v-if="!isIdNric">
                                                <div class="form-group">
                                                    <label class="bt1">Date of Birth: </label>
                                                    <div class="form-group variant-date-picker mb-0">
                                                        <div class="vdp-datepicker form-control" disabled>
                                                            <div class="text-black">
                                                                <input type="text" v-model ="formData['1'].displayDateOfBirth" readonly="readonly"
                                                                 autocomplete="off" disabled>
                                                                 <svg class="icon">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-calendar"
                                                                            href="/spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                                        </svg>
                                                            </div>
                                                        
                                                        </div>
                                                        <svg class="icon">
                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-calendar"
                                                                href="/spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                        </svg>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-6">
                                                <validation-provider rules="required" v-slot="validator" mode="eager" ref="address1">
                                                    <div class="form-group" v-on:keyup="$refs.address1.reset()">
                                                        <label for="address1" class="bt1">Address:</label>
                                                        <input type="text"
                                                            id="address1"
                                                            placeholder="First Line"
                                                            v-model="formData['3'].policyHolderAddressLine1"
                                                            autocomplete="off"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }">
                                                        <small class="error-message text-primary font-italic" v-if="validator.failedRules.required">
                                                            * Complete the Address field.
                                                        </small>
                                                    </div>
                                                </validation-provider>
                                                <div class="form-group">
                                                    <input type="text"
                                                        id="address2" 
                                                        placeholder="Second Line"
                                                        class="form-control"
                                                        v-model="formData['3'].policyHolderAddressLine2"
                                                        autocomplete="off">
                                                </div>
                                            </div>

                                            <div class="col-12 col-md-6">
                                                <validation-provider rules="required|min:5|max:5|integer" v-slot="validator" ref="postcode1" :events="['blur']" mode="eager">
                                                    <div class="form-group variant-icon variant-autocomplete" @focusout="$refs.postcode1.validate()" v-on:keyup="$refs.postcode1.reset()">
                                                        <label class="bt1">Postcode:</label>
                                                         <div class="input-wrapper">
                                                        <vue-typeahead-bootstrap
                                                            v-model="formData['3'].addressPostcode"
                                                            :data="postcodeSuggestions"
                                                            :serializer="function (s) { return s.postcode }"
                                                            placeholder="Find postcode"
                                                            :max-matches="5"
                                                            :min-matching-chars="1"
                                                            :input-class="validator.errors.length > 0 ? 'is-invalid' : ''"
                                                            @hit="handlePostcodeHit($event)"
                                                            maxlength="5"
                                                            v-mask="'#####'">
                                                            <template v-slot:append>
                                                            
                                                                <svg class="icon icon-s mr-2">
                                                                    <use xlink:href="/spa-assets/icons/icons.svg#sprite-search"
                                                                        href="/spa-assets/icons/icons.svg#sprite-search"></use>
                                                                </svg>
                                                            </template>
                                                        </vue-typeahead-bootstrap>
                                                        </div>
                                                        <div class="small error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                            <span v-if="validator.failedRules.required">
                                                                * Complete the Postcode field.
                                                            </span>
                                                            <span v-else-if="validator.failedRules.min || validator.failedRules.max || validator.failedRules.integer">
                                                                Please enter a valid Postcode.
                                                            </span>
                                                        </div>
                                                    </div>
                                                </validation-provider>
                                            </div>

                                            <div class="col-12 col-md-6">
                                                <div class="form-group">
                                                    <label class="bt1" for="city"> City:</label>
                                                    <input type="text" 
                                                        id="city"
                                                        disabled = "disabled"
                                                        placeholder="City"
                                                        v-model="formData['3'].addressCity"
                                                        class="form-control">
                                                </div>
                                            </div>

                                             <div class="col-12 col-md-6">
                                                <div class="form-group">
                                                    <label class="bt1" for="state" >State:</label>
                                                    <input type="text"
                                                        id="state"
                                                        disabled = "disabled"
                                                        placeholder="State"
                                                        v-model="formData['3'].addressState"
                                                        class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- family member for loop-->

                                    <div class="bg-w pt-5 pb-3 px-4 mb-4" v-for="(member,index) in formData['3'].familyMembers">
                                        <div class="d-flex">
                                            <h2 class="p2 mb-4">Family Member #{{index + 1}}</h2>
                                        </div>

                                        <div class="row">
                                            <div class="col-12 col-md-6">
                                                <label class="bt1">Traveller:</label>
                                            </div>
                                        </div>
                                        <div class="d-flex mt-1 mb-4">
                                                <div class="form-check col-md-3">
                                                    <input class="form-check-input"
                                                        type="radio"
                                                        :name="'member'+index+'_traveller'"
                                                        value="Spouse"
                                                        :id="'member'+index+'_traveller1'"
                                                        v-model="member.relationToCustomer"
                                                        :disabled="isSpouse">
                                                    <label class="form-check-label text-body" :for="'member'+index+'_traveller1'">Spouse</label>
                                                </div>
                                                <div class="form-check col-md-9">
                                                    <input class="form-check-input"
                                                        type="radio"
                                                        :name="'member'+index+'_traveller'"
                                                        value="Child"
                                                        :id="'member'+index+'_traveller2'"
                                                        v-model="member.relationToCustomer">
                                                    <label class="form-check-label" :for="'member'+index+'_traveller2'">Child ({{additionalCoverageChildMinAge}} days - {{additionalCoverageChildMaxAge}} years old)</label>
                                                </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-12 col-md-6">
                                                <label class="bt1">Nationality:</label>
                                            </div>
                                        </div>
                                        <div class="d-flex mt-1 mb-4">
                                            <div class="form-check col-md-3">
                                                <input class="form-check-input"
                                                    type="radio"
                                                    :name="'member'+index+'_type'"
                                                    value="Y"
                                                    :id="'member'+index+'_type1'"
                                                    v-model="member.nationality">
                                                <label class="form-check-label" :for="'member'+index+'_type1'">Malaysian</label>
                                            </div>
                                            <div class="form-check col-md-9">
                                                <input class="form-check-input"
                                                    type="radio"
                                                    :name="'member'+index+'_type'"
                                                    value="N"
                                                    :id="'member'+index+'_type2'"
                                                    v-model="member.nationality">
                                                <label class="form-check-label" :for="'member'+index+'_type2'">Non-Malaysian</label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-md-6" v-if="member.nationality == 'N'">
                                                <label class="bt1">Country (as per Passport):</label>
                                                <div class="form-group">
                                                    <validation-provider v-slot="validator" :rules="{ required: member.nationality == 'N' }">                                                
                                                            <select :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                                }" v-model="member.country">
                                                                <option disabled hidden selected value="">Select Country as per Passport</option>
                                                                <option v-for="country in countries"
                                                                    v-bind:key="countries.indexOf(country)"
                                                                    :value="country.code">
                                                                    {{ country.name }}
                                                                </option>
                                                            </select>
                                                            <div class="invalid-feedback font-italic">
                                                                <span>* Complete the Country field.</span>
                                                            </div>
                                                    
                                                    </validation-provider>                                                
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12 col-md-6">
                                                <validation-provider rules="required|validName|max:70" v-slot="validator" mode="eager" :ref="`memberName${index}`">
                                                    <div class="form-group" v-on:keyup="$refs[`memberName${index}`][0].reset()">
                                                        <label :for="'memberName'+index" class="bt1">Name (as per {{member.nationality == 'Y' ? 'NRIC' : 'Passport'}}):</label>
                                                        <input type="text"
                                                            :id="'memberName'+index"
                                                            placeholder="E.g.: Lam Bing Chen"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            v-model="member.name"
                                                            autocomplete="off"
                                                        >
                                                        <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                            <span v-if="validator.failedRules.required">* Complete the Name as per {{member.nationality == 'Y' ? 'NRIC' : 'Passport'}} field.</span>
                                                            <span v-else-if="validator.failedRules.validName">Please enter only alphabet, "-", "@", "/" and " ' " for Name</span>
                                                            <span v-else-if="validator.failedRules.max">Member name cannot be greater than 70 characters.</span>
                                                        </small>
                                                    </div>
                                                </validation-provider>
                                            </div>


                                            <div class="col-12 col-md-6" v-if="member.nationality == 'N'">
                                                <validation-provider v-slot="validator"
                                                    :rules="{
                                                        'required': true,
                                                    }" mode="eager" :ref="`fm_passport${index}`">
                                                    <div class="form-group" v-on:keyup="$refs[`fm_passport${index}`][0].reset()">
                                                        <label :for="'fm_passport'+index" class="bt1">Passport No.:</label>
                                                        <input type="text"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            :name="'Passport'+index"
                                                            :placeholder="'E.g.: A98765432'"
                                                            v-mask=" 'XXXXXXXXXXXXXX'"
                                                            v-model="member.nric"
                                                            autocomplete="off">
                                                        <div class="invalid-feedback font-italic">
                                                            <span v-if="validator.failedRules.required">* Complete the Passport No field.</span>
                                                        </div>
                                                    </div>
                                                </validation-provider>
                                            </div>

                                            <div class="col-12 col-md-6" v-if="member.nationality == 'Y'">
                                                    <validation-provider v-slot="validator"
                                                        :rules="{
                                                            'required': true,
                                                            'nricValidDob': member.nationality == 'Y',
                                                            'childMalaysiaAge':member.nationality == 'Y' && member.relationToCustomer == 'Child',
                                                            'spouseMalaysiaAgeYear': member.nationality == 'Y' && member.relationToCustomer == 'Spouse',
                                                            'min': member.nationality == 'Y' && {
                                                                length: 14
                                                            }
                                                        }" mode="eager" :ref="`memberNric${index}`">
                                                        <div class="form-group" >
                                                            <label :for="'memberNric'+index" class="bt1">NRIC No.:</label>
                                                            <input type="text"
                                                                :id="'memberNric'+index"
                                                                :class="{
                                                                    'form-control': true,
                                                                    'is-invalid': validator.errors.length > 0
                                                                }"
                                                                :name="'NRIC'+index"
                                                                :placeholder="'E.g.: 900808-10-8888'"
                                                                v-mask="'######-##-####'"
                                                                v-model="member.nric"
                                                                autocomplete="off"
                                                                v-on:keyup="$refs[`memberNric${index}`][0].reset()">
                                                            <div class="invalid-feedback font-italic">
                                                                <span v-if="validator.failedRules.required">* Complete the NRIC field.</span>
                                                                <span v-else-if="validator.failedRules.nricValidDob || validator.failedRules.min">Please check NRIC number.</span>
                                                                <span v-else-if="validator.failedRules.spouseMalaysiaAgeYear"> Spouse age must be between {{additionalCoverageSpouseMinAge}} and {{additionalCoverageSpouseMaxAge}} years.</span>
                                                                <span v-else-if="validator.failedRules.childMalaysiaAge">Child age must be between {{additionalCoverageChildMinAge}} days and {{additionalCoverageChildMaxAge}} years.</span>
                                                            </div>   
                                                        </div>                                                 
                                                    </validation-provider>
                                            </div>
                                        </div>

                                        <div class="row" v-if="member.nationality == 'N'">
                                            <div class="col-12 col-md-6">
                                                <validation-provider v-slot="validator" :rules="{ 
                                                    'required' : member.nationality == 'N',
                                                    'childNonMalaysiaAge':member.nationality == 'N' && member.relationToCustomer == 'Child',
                                                    'spouseNonMalaysiaAgeYear': member.nationality == 'N' && member.relationToCustomer == 'Spouse'
                                                    }" mode="eager" :ref="`fm_dob${index}`">                                                
                                                    <label class="bt1">Date of Birth: </label>
                                                    <div class="form-group variant-date-picker mb-3" v-on:keyup="$refs[`fm_dob${index}`][0].reset()">
                                                        <div class="vdp-datepicker form-control" v-bind:class="{'is-invalid': validator.errors.length > 0}">
                                                            <Datepicker v-model="member.dateOfBirth" 
                                                            :initial-view="'year'"
                                                            :open-date="openDateFamilyMembers(member.relationToCustomer)"
                                                            :disabled-dates="disabledDateFamilyMembers(member.relationToCustomer)"
                                                            :input-class="'familyMembersDOB'"
                                                            format="dd/MM/yyyy" placeholder="DD/MM/YYYY"
                                                            @focusout.native="$refs[`fm_dob${index}`][0].validate()">
                                                                <span slot="afterDateInput">
                                                                                <svg class="icon">
                                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-calendar"
                                                                                    href="/spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                                                </svg>
                                                                        </span>
                                                            </Datepicker> 
                                                        </div>
                                                        <div class="small error-messages text-primary font-italic"  v-if="validator.errors.length > 0">
                                                            <span v-if="validator.failedRules.required">* Complete the Date of Birth field.</span>
                                                            <span v-else-if="validator.failedRules.childNonMalaysiaAge">Child age must be between {{additionalCoverageChildMinAge}} days and {{additionalCoverageChildMaxAge}} years.</span>
                                                            <span v-else-if="validator.failedRules.spouseNonMalaysiaAgeYear"> Spouse age must be between {{additionalCoverageSpouseMinAge}} and {{additionalCoverageSpouseMaxAge}} years.</span>
                                                        </div>  
                                                    </div>                                              
                                                </validation-provider>
                                            </div>
                                        </div>

                                        <div class="d-flex mt-1 mb-4 addFamilyButton">
                                            <a @click.prevent="removeFamily(index)" role="button">
                                                <span class="removeFamilyIcon mr-1">âœ–</span>
                                                <span class="removeFamilyFont bold">Remove</span>
                                            </a>
                                        </div>
                                    </div>

                                    <div id="family-member-limit" class="modal fade variant-tnc">
                                            <div class="modal-dialog partial-screen-modal-dialog modal-dialog-centered modal-lg">
                                                <div class="modal-content">
                                                    <div class="modal-header bg-w">
                                                        <button class="modal-header-btn button-icon btn-close" data-dismiss="modal">
                                                            <svg class="icon icon-s">
                                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-close-popup"
                                                                    href="/spa-assets/icons/icons.svg#sprite-close-popup"></use>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                    <div class="p-5 content-container text-center">
                                                        <p><br>You may only have a maximum of 6 family members including yourself under the plan.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    <div class="d-flex mb-4 addFamilyButton">
                                        <a @click.prevent="addFamily" role="button">
                                            <span class="addFamilyIcon mr-1">âœš</span>
                                            <span class="addFamilyFont bold">Add Family</span>
                                        </a>
                                    </div>
                                    <div class="pt-2 pb-3 wizard-navigation d-none d-md-flex" v-bind:class="{'pb-md-5':formData['3'].familyMembers.length, 'mb-md-5':formData['3'].familyMembers.length }">
                                        <a @click.prevent="goToPrevStep()" href="#" role="button" class="btn btn-default btn-outline-primary my-2 my-md-0">Back</a>
                                        <a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })" href="#" role="button" class="btn btn-default btn-primary mb-3 mb-md-0">Continue</a>
                                    </div>
                                </div>

                                <div class="col-12 col-lg-4">
                                        <travelrightplus-summary-pane 
                                            :curr-step-num="currStep.stepNum"
                                            :form-data="formData"
                                        ></travelrightplus-summary-pane>
                                </div>                          
                            </div>
                            
                        </div>

                        <div class="container pt-3 wizard-navigation d-md-none">
                            <a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })" href="#" role="button" class="btn btn-default btn-primary mb-3 mb-md-0">Continue</a>
                            <a @click.prevent="goToPrevStep()" href="#" role="button" class="btn btn-default btn-outline-primary mb-4">Back</a>
                        </div>
                    
                    </fieldset>                   
                    
                    <fieldset class="wizard-section-4" v-if="currStep && currStep.stepNum === '4'">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 col-lg-8">

                                    <!-- #region Rider Details -->
                                    <validation-observer ref="editRiderObserver">
                                        <div class="bg-w py-5 pb-3 px-4 mb-4">
                                            <h2 class="p2 mb-4">Personal Details</h2>
                                            <div class="row">

                                                 <!--contry-->
                                                <div class="col-12 col-md-12"  v-if="!isIdNric">
                                                    <p class="bt1 mb-0">Country (as per Passport):</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ findCountryByCode(formData['4'].policyHolderCountry).name }}</p>
                                                    <template v-if="formData['4'].isRiderDetailsEditMode">
                                                        <validation-provider v-slot="validator" :rules="{ required: !isIdNric }"> 
                                                            <label class="bt1">Country:</label>
                                                            <div class="form-group disabled" v-bind:class="{'is-invalid': validator.errors.length > 0}">                                               
                                                                <select :class="{
                                                                    'form-control': true,
                                                                    'is-invalid': validator.errors.length > 0,
                                                                    'disabled':true
                                                                    }" v-model="formData['4'].policyHolderCountry" disabled=true>
                                                                    <option disabled hidden selected value="formData['4'].policyHolderCountry">{{formData['4'].policyHolderCountry}}</option>
                                                                    <option v-for="country in countries"
                                                                        v-bind:key="countries.indexOf(country)"
                                                                        :value="country.code">
                                                                        {{ country.name }}
                                                                    </option>
                                                                </select>
                                                                <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the Country field.</span>
                                                                </small>
                                                            </div>
                                                        </validation-provider>
                                                    </template>
                                                </div>
                                                <!--end country-->

                                                <div class="col-12 col-md-6">
                                                    <p class="bt1 mb-0">Name (as per {{step4PassportOrNric}}):</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ formData['4'].policyHolderName }}</p>
                                                    <template v-if="formData['4'].isRiderDetailsEditMode">
                                                        <validation-provider rules="required|validName|max:70" v-slot="validator" mode="eager" ref="nameedit">
                                                            <div class="form-group" v-on:keyup="$refs.nameedit.reset()">
                                                                <input type="text"
                                                                    :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': validator.errors.length > 0
                                                                    }"
                                                                    v-model="formData['4'].policyHolderName"
                                                                    placeholder="E.g. Lee Siew Suan">
                                                                <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the Name as per NRIC field.</span>
                                                                    <span v-else-if="validator.failedRules.validName">Please enter only alphabet, "-", "@", "/" and " ' " for Name.</span>
                                                                    <span v-else-if="validator.failedRules.max">Member name cannot be greater than 70 characters.</span>
                                                                </small>
                                                            </div>
                                                        </validation-provider>
                                                    </template>
                                                </div>
                                                <div class="col-12 col-md-6">
                                                    <p class="bt1 mb-0"> {{step4PassportOrNric}} No.:</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ formData['1'].policyHolderNric }}</p>
                                                    <div class="form-group" v-if="formData['4'].isRiderDetailsEditMode">
                                                        <input type="text" class="form-control" v-model="formData['1'].policyHolderNric" disabled>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6">
                                                    <p class="bt1 mb-0">Email:</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ formData['4'].policyHolderEmail }}</p>
                                                    <template v-if="formData['4'].isRiderDetailsEditMode">
                                                        <validation-provider rules="required|email" v-slot="validator" mode="eager" ref="emailedit">
                                                            <div class="form-group" v-on:keyup="$refs.emailedit.reset()">
                                                                <input type="text" 
                                                                    :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': validator.errors.length > 0
                                                                    }"
                                                                    v-model="formData['4'].policyHolderEmail"
                                                                    placeholder="E.g.: you@gmail.com">
                                                                <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the Email field.</span>
                                                                    <span v-else-if="validator.failedRules.email">Please enter a valid email address</span>
                                                                </small>
                                                            </div>
                                                        </validation-provider>
                                                    </template>
                                                </div>
                                                <div class="col-12 col-md-6">
                                                    <p class="bt1 mb-0">Mobile No.:</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ formData['4'].policyHolderMobileNo }}</p>
                                                    <template v-if="formData['4'].isRiderDetailsEditMode">
                                                        <validation-provider rules="required|mobileNumber" v-slot="validator" mode="eager" ref="mobileedit">
                                                            <div class="form-group" v-on:keyup="$refs.mobileedit.reset()">
                                                                <input type="tel"
                                                                    :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': validator.errors.length > 0
                                                                    }"
                                                                    v-mask="'###-### #####'"
                                                                    v-model="formData['4'].policyHolderMobileNo"
                                                                    placeholder="E.g.: 018-123 4567">
                                                                <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the Mobile field.</span>
                                                                    <span v-else-if="validator.failedRules.mobileNumber">Please check mobile number.</span>
                                                                </small>
                                                            </div>
                                                        </validation-provider>
                                                    </template>
                                                </div>

                                                <div class="col-12 col-md-6" v-if="!isIdNric">
                                                    <p class="bt1 mb-0">Gender:</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ formData['4'].policyHolderGender == 'M' ? 'Male' : 'Female' }}</p>
                                                    <template v-if="formData['4'].isRiderDetailsEditMode && !isIdNric">
                                                         <validation-provider rules="required" v-slot="validator">                                                      
                                                        <div class="form-group">                                                      
                                                            <select class="form-control" v-model="formData['4'].policyHolderGender">
                                                                <option disabled hidden selected value="" class="italic">Select Option
                                                                </option>
                                                                <option value="M">
                                                                    Male</option>
                                                                    <option value="F">
                                                                        Female</option>
                                                            </select>
                                                            <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                <span v-if="validator.failedRules.required">* Complete the Gender field.</span>
                                                            </small>
                                                        </div>
                                                </validation-provider>
                                                    </template>
                                                     <template v-if="formData['4'].isRiderDetailsEditMode && isIdNric">
                                                        <div class="form-group">
                                                            <input type="text" 
                                                                disabled="disabled"
                                                                v-model="formData['4'].policyHolderGender == 'M' ? 'Male' : 'Female'"
                                                                class="form-control">
                                                        </div>
                                                    </template>
                                                </div>

                                                <div class="col-12 col-md-6" v-if="!isIdNric">
                                                    <p class="bt1 mb-0">Date of Birth:</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ displayDateFormat }}</p>
                                                    <template v-if="formData['4'].isRiderDetailsEditMode">
                                                        <validation-provider :rules="{ 
                                                                'required' : !isIdNric,
                                                                'nonMalaysianMinAge' : !isIdNric
                                                                }"                                
                                                                v-slot="validator">
                                                            <div class="form-group variant-date-picker">
                                                                    <div class="vdp-datepicker form-control" disabled="disabled">

                                                                <Datepicker v-model="formData['4'].policyHolderDateOfBirth" 
                                                                :disabled-dates="disabledDatesDOB"
                                                                :initial-view="'year'"
                                                                :open-date="openDate()"
                                                                format="dd/MM/yyyy" placeholder="dd/mm/yyyy" disabled="disabled">
                                                                <span slot="afterDateInput">
                                                                        <svg class="icon">
                                                                        <use xlink:href="spa-assets/icons/icons.svg#sprite-calendar"
                                                                            href="spa-assets/icons/icons.svg#sprite-calendar"></use>
                                                                        </svg>
                                                                    </span>
                                                                </Datepicker> 
                                                                
                                                            </div>
                                                                <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the date field.</span>
                                                                    <span v-else-if="validator.failedRules.nonMalaysianMinAge">*Main policyholder age must be between 16 and 65.</span>
                                                                </small>
                                                            </div>
                                                        </validation-provider>
                                                    </template>
                                                </div>


                                                <div class="col-12 col-md-6">
                                                    <p class="bt1 mb-0">Address:</p>
                                                    <p class="bt2" v-if="!formData['4'].isRiderDetailsEditMode">{{ fullAddress }}</p>
                                                    <template v-if="formData['4'].isRiderDetailsEditMode">
                                                        <!-- Address Line 1 -->
                                                        <validation-provider rules="required" v-slot="validator" mode="eager" ref="addressedit">
                                                            <div class="form-group" v-on:keyup="$refs.addressedit.reset()">
                                                                <input type="text"
                                                                    placeholder="First Line"
                                                                    v-model="formData['4'].policyHolderAddressLine1"
                                                                    :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': validator.errors.length > 0
                                                                    }">
                                                                <small class="error-message text-primary font-italic" v-if="validator.failedRules.required">
                                                                    * Complete the Address field.
                                                                </small>
                                                            </div>
                                                        </validation-provider>
                                                        
                                                        <!-- Address Line 2 -->
                                                        <div class="form-group">
                                                            <input type="text"
                                                                placeholder="Second Line"
                                                                class="form-control"
                                                                v-model="formData['4'].policyHolderAddressLine2">
                                                        </div> 
                                                    </template>
                                                </div>
                                                
                                                <div class="col-12 col-md-6">
                                                        <template v-if="formData['4'].isRiderDetailsEditMode">
                                                        <!-- Postcode -->
                                                        <validation-provider rules="required|min:5|max:5|integer" v-slot="validator" ref="postcode1" :events="['blur']" mode="eager">
                                                            <div class="form-group variant-icon variant-autocomplete" @change="$refs.postcode1.validate()">
                                                                <p class="bt1 mb-0">Postcode:</p>
                                                                <vue-typeahead-bootstrap
                                                                    :data="postcodeSuggestions"
                                                                    v-model="formData['4'].addressPostcode"
                                                                    :serializer="function(s) { return s.postcode }"
                                                                    placeholder="Find postcode"
                                                                    :max-matches="5"
                                                                    :min-matching-chars="1"
                                                                    :input-class="validator.errors.length > 0 ? 'is-invalid' : ''"
                                                                    @hit="handlePostcodeHit($event)"
                                                                    maxlength="5"
                                                                >
                                                                    <template slot="append">
                                                                        <svg class="icon icon-s mr-2">
                                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-search"
                                                                                href="/spa-assets/icons/icons.svg#sprite-search"></use>
                                                                        </svg>
                                                                    </template>
                                                                </vue-typeahead-bootstrap>
                                                                <div class="small error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">
                                                                        * Complete the Postcode field.
                                                                    </span>
                                                                    <span v-else-if="validator.failedRules.min || validator.failedRules.max || validator.failedRules.integer">
                                                                        Please enter a valid Postcode.
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </validation-provider>
                                                        </template>
                                                </div>

                                                <template v-if="formData['4'].isRiderDetailsEditMode">
                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label class="bt1">City:</label>
                                                            <input type="text" 
                                                                disabled="disabled"
                                                                placeholder="city"
                                                                v-model="formData['4'].addressCity"
                                                                class="form-control">
                                                        </div>
                                                    </div>

                                                    <div class="col-12 col-md-6">
                                                        <div class="form-group">
                                                            <label class="bt1">State:</label>
                                                            <input type="text"
                                                                disabled="disabled"
                                                                placeholder="state"
                                                                v-model="formData['4'].addressState"
                                                                class="form-control">
                                                        </div>
                                                    </div>
                                                </template>                                 
                                                                                           
                                                
                                            </div>
                                            <!-- sin liang comment
                                            <div class="d-flex justify-content-end" v-if="!formData['4'].isRiderDetailsEditMode">
                                                <a href="#" @click.prevent="togglePolicyHolderDetailsEditMode" class="btn btn-secondary btn-icon">
                                                    <div class="button-icon">
                                                        <svg class="icon icon-s">
                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-pencil-1"
                                                                href="/spa-assets/icons/icons.svg#sprite-pencil-1"></use>
                                                        </svg>
                                                    </div>
                                                    <span class="button-text">Edit</span>
                                                </a>
                                            </div>
                                            -->
                                            <div class="d-flex justify-content-end" v-if="formData['4'].isRiderDetailsEditMode">
                                                <a href="#"
                                                    class="btn btn-primary btn-icon mr-3"
                                                    @click.prevent="cancelEditRiderDetails">
                                                    <div class="button-icon">
                                                        <svg class="icon icon-s">
                                                            <use xlink:href="/spa-assets/icons/icons.svg?v=1#sprite-close"
                                                                href="/spa-assets/icons/icons.svg?v=1#sprite-close"></use>
                                                        </svg>
                                                    </div>
                                                    <span class="button-text">Cancel</span>
                                                </a>
                                                <a href="#"
                                                    class="btn btn-secondary"
                                                    @click.prevent="saveEditRiderDetails">
                                                    <span class="button-text">Save</span>
                                                </a>
                                            </div>
                                        </div>
                                    </validation-observer>
                                    <!-- #endregion Rider Details --> 

                                    <div class="bg-w pt-5 pb-3 px-4 mb-4">
                                        <div class="d-flex">
                                            <h2 class="p2 d-flex">Declaration</h2>
                                        </div>
                                        <p class="mb-4">The following questions apply to you, and any family members that you are buying this insurance for.</p>

                                        <!-- Declaration Question 1 -->
                                        <div>
                                            <!--<p class="bt1 bold">Do you already have Travel Insurance with any other Travel Insurance for this trip?</p>-->
                                            <p class="bt1 bold">Do you and/or any family member(s) to be insured have any other Travel Insurance for this trip?</p>
                                            <div class="d-flex mb-2">
                                                <div>
                                                    <div class="form-check d-inline-block mr-3">
                                                        <input class="form-check-input" 
                                                            type="radio"
                                                            name="declarationQuestion1"
                                                            value="Y"
                                                            id="declarationQuestion1Yes"
                                                            v-model="formData['4'].declarationYesNo">
                                                        <label class="form-check-label" for="declarationQuestion1Yes">Yes</label>
                                                    </div>
                                                    <div class="form-check d-inline-block">
                                                            <input class="form-check-input"
                                                            type="radio"
                                                            name="declarationQuestion1"
                                                            value="N"
                                                            id="declarationQuestion1No"
                                                            v-model="formData['4'].declarationYesNo">
                                                        <label class="form-check-label" for="declarationQuestion1No">No</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="small error-message text-primary font-italic py-0">
                                                <span v-if="!question1Valid">* Complete the Question 1.</span>
                                            </div>

                                            <div v-show="formData['4'].declarationYesNo == 'Y'">
                                                <!-- multiple select from go-->
                                                <div class="d-md-flex">
                                                <div id="section-country-container" class="form-group">
                                                    <p class="bt2 py-0 mb-1 bold">What other insurance companies do you have Travel Insurance with?</p>
                                                    <div id="country-wrapper" class="otherPidmMultiSelect">
                                                        <div id="country-token-label">
                                                            <div class="selected-token" v-for="selected in formData['4'].otherHealthcareInsurance" :key="selected.split(' ').join('-')">
                                                                <span>{{ selected }}</span>
                                                                <div @click="removeSelectOtherInsurance(selected)" class="selected-close">Ã—</div>
                                                            </div>

                                                            <div id="input-wrapper">
                                                                <input placeholder="Enter Your Travel Insurance Company" id="country-input" type="text" autocomplete="off">
                                                                <svg class="icon icon-m mr-2">
                                                                    <use xlink:href="/spa-assets/icons/icons.svg#sprite-chevron"
                                                                        href="/spa-assets/icons/icons.svg#sprite-chevron"></use>
                                                                </svg>
                                                            </div>
                                                        </div>
                                                        <!-- dropdown -->
                                                        <div id="country-dropdown">
                                                            <ul>
                                                                <li @click="addSelectOtherInsurance(insuranceCompany)" v-for="insuranceCompany in pidm"
                                                                >{{ insuranceCompany }}</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                                <!-- end multiple select from go-->
                                                <div class="small error-message text-primary font-italic py-0">
                                                    <span v-if="!question1DescValid">* Complete the Question 1.</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Declaration Question 2 -->
                                        <div>
                                            <!--<p class="bt1 bold">Have you ever made any claims under a Travel Insurance in the past 3 years?</p>-->
                                            <p class="bt1 bold">Have you and/or any family member(s) to be insured ever made any claims under a Travel Insurance in the past 3 years?</p>
                                            <div class="d-flex mb-2">
                                                <div>
                                                    <div class="form-check d-inline-block mr-3">
                                                        <input class="form-check-input" 
                                                            type="radio"
                                                            name="declarationQuestion2"
                                                            value="Y"
                                                            id="declarationQuestion2Yes"
                                                            v-model="formData['4'].declarationYesNo2">
                                                        <label class="form-check-label" for="declarationQuestion2Yes">Yes</label>
                                                    </div>
                                                    <div class="form-check d-inline-block">
                                                            <input class="form-check-input"
                                                            type="radio"
                                                            name="declarationQuestion2"
                                                            value="N"
                                                            id="declarationQuestion2No"
                                                            v-model="formData['4'].declarationYesNo2">
                                                        <label class="form-check-label" for="declarationQuestion2No">No</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="small error-message text-primary font-italic py-0">
                                                <span v-if="!question2Valid">* Complete the Question 2.</span>
                                            </div>

                                            <div v-show="formData['4'].declarationYesNo2 == 'Y'">
                                                <!-- multiple select from go-->
                                                <div class="d-md-flex">
                                                <div id="section-country-container" class="form-group">
                                                    <p class="bt2 py-0 mb-1 bold">Type of claim(s) made in the past 3 years:</p>
                                                    <div id="country-wrapper" class="typeOfClaimMultiSelect">
                                                        <div id="country-token-label">
                                                            <div class="selected-token" v-for="selected in formData['4'].insuranceClaims" :key="selected.split(' ').join('-')">
                                                                <span>{{ selected }}</span>
                                                                <div @click="removeSelectTypeOfClaims(selected)" class="selected-close">Ã—</div>
                                                            </div>

                                                            <div id="input-wrapper">
                                                                <input placeholder="Select Option" id="country-input" type="text" autocomplete="off">
                                                                <svg class="icon icon-m mr-2">
                                                                    <use xlink:href="/spa-assets/icons/icons.svg#sprite-chevron"
                                                                        href="/spa-assets/icons/icons.svg#sprite-chevron"></use>
                                                                </svg>
                                                            </div>
                                                        </div>
                                                        <!-- dropdown -->
                                                        <div id="country-dropdown">
                                                            <ul>
                                                                <li @click="addSelectTypeOfClaims(claim)" v-for="claim in otherClaims"
                                                                >{{ claim }}</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                                <!-- end multiple select from go-->
                                                <div class="small error-message text-primary font-italic py-0">
                                                    <span v-if="!question2DescValid">* Complete the Question 2.</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Declaration Question 2: Describe claim-->
                                        <div v-show="formData['4'].insuranceClaims.includes('Others')">
                                            <p class="bt1 mb-1 bold">Describe your type of claims</p>
                                            <div class="form-group mb-0">
                                                <validation-provider v-slot="validator" v-if
                                                    :rules="{
                                                        'required': true,
                                                    }" mode="eager" ref="claim1">
                                                        <textarea type="text" class="claimText"
                                                            :class="{
                                                                'form-control': true,
                                                                'is-invalid': validator.errors.length > 0
                                                            }"
                                                            :placeholder="'Type in Your Claim Here'"
                                                            v-model="formData['4'].otherClaimType"
                                                            autocomplete="off"
                                                            v-on:keyup="$refs.claim1.reset()"
                                                            maxlength="50"></textarea>
                                                        <div class="invalid-feedback font-italic">
                                                            <span v-if="validator.failedRules.required">* Complete the Claim field.</span>
                                                        </div>                                                    
                                                </validation-provider>
                                            </div>
                                            <p>{{formData['4'].claimDescCharNum}} characters remaining.</p>
                                        </div>

                                    </div>
                                   
                                   <!-- wj - add membership id field -->
                                    <div class="bg-w pt-5 pb-3 px-4 mb-4" v-if="partnerCode == 'SHOP'">
                                        <p class="bt1 mb-2">MY.SHOP.COM Privileged Card ID</p>
                                        <validation-provider rules="required|min:7|max:10" v-slot="validator" mode="eager" ref="shopMemberId">
                                            <div class="form-group">
                                                <!-- Original class -->
                                                <!-- class="required membershipID" -->
                                                <input type="text"
                                                    :class="{
                                                        'form-control': true,
                                                        'is-invalid': validator.errors.length > 0
                                                    }"
                                                    id="membershipID" 
                                                    name="membershipID" 
                                                    data-name="MEMBERSHIP ID" 
                                                    placeholder="XXXXXXXXXXXX" 
                                                    @input="formData[4].membershipID = event.target.value.replace(/[^\d]/g,'')"
                                                    minlength="7" 
                                                    maxlength="10" 
                                                    value="" 
                                                    autocomplete="off" 
                                                    required
                                                    v-model="formData[4].membershipID"
                                                    v-on:keyup="$refs.shopMemberId.reset()">
                                                    <!--onkeypress="return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))"-->
                                                <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                    <span v-if="validator.failedRules.required">* Complete your Privileged Card ID.</span>
                                                    <span v-else-if="validator.failedRules.min">* Please enter at least 7 digits for your Privileged Card ID.</span>
                                                    <span v-else-if="validator.failedRules.max">* Please only enter a maximum of 10 digits for your Privileged Card ID.</span>
                                                </small>
                                            </div>
                                        </validation-provider>
                                        <p style="margin-top:-6px;font-style:italic">Note: Please enter your Privileged Card ID number only.</p>
                                    </div>
                                    <!-- wj - end add membership id field -->

                                    <validation-provider v-slot="validator" rules="mustBeTrue" v-if="commissionRate > 0">
                                        <div class="form-check d-none d-lg-block mb-3">
                                            <input type="checkbox"
                                                name="commissionAgreement"
                                                id="commissionAgreement"
                                                required
                                                :class="{
                                                    'form-check-input': true,
                                                    'is-invalid': validator.errors.length > 0
                                                }"
                                                v-model="formData['4'].commissionAgreement">
                                            <label for="commissionAgreement" class="form-check-label pr-md-5">
                                                I agree to pay a commission ({{displayCommissionRate}}%) amount of RM {{displayCommission}} to {{partnerName}} for providing insurance advice & claims assistance / services.
                                            </label>
                                            <svg class="icon icon-m tick-mark">
                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                                    href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                            </svg>
                                            <div class="invalid-feedback font-italic tncErrorMsg pt-0" v-if="validator.errors.length > 0">
                                                * Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                            </div>
                                        </div>
                                    </validation-provider>

                                    <validation-provider v-slot="validator" rules="mustBeTrue">
                                        <div class="form-check d-none d-lg-block mb-3">
                                            <input type="checkbox"
                                                name="benefitConditionAgreement"
                                                id="benefitConditionAgreement"
                                                required
                                                :class="{
                                                    'form-check-input': true,
                                                    'is-invalid': validator.errors.length > 0
                                                }"
                                                v-model="formData['4'].benefitConditionAgreement">
                                            <label for="benefitConditionAgreement" class="form-check-label pr-md-5">
                                                I have read, understood and accepted the <a class="underline text-danger" target="_blank" href="">benefits, key terms, exclusions</a> and <a class="underline text-danger" target="_blank" href="">condition of purchase</a> of COVID-19 Add-On.
                                            </label>
                                            <svg class="icon icon-m tick-mark">
                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                                    href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                            </svg>
                                            <div class="invalid-feedback font-italic tncErrorMsg pt-0" v-if="validator.errors.length > 0">
                                                * Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                            </div>
                                        </div>
                                    </validation-provider>

                                    <validation-provider v-slot="validator" rules="mustBeTrue">
                                        <div class="form-check d-none d-lg-block">
                                            <input type="checkbox"
                                                name="tncAgreement"
                                                id="tncAgreement"
                                                required
                                                :class="{
                                                    'form-check-input': true,
                                                    'is-invalid': validator.errors.length > 0
                                                }"
                                                v-model="formData['4'].tncAgreement">
                                            <label for="tncAgreement" class="form-check-label pr-md-5">
                                                <!--I hereby acknowledge that I have read the <a class="underline" target="_blank" href="/$partnerURLTitle/resource/MSIG%20Motorcycle%20Insurance%20PDS%20(Rebate).pdf">Product Disclosure Sheet</a> and agree to the <a href="#" class="underline" @click.prevent="showTncModal">Terms and Conditions</a>.-->
                                                I hereby acknowledge that I have read the <a class="underline text-danger" target="_blank" :href="productDisclosurePDFUri">Product Disclosure Sheet</a> & agree to the <span class="underline text-danger TNCclick" @click.prevent="showTncModal">Terms & Conditions</span>.
                                                
                                            </label>
                                            <svg class="icon icon-m tick-mark">
                                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                                    href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                            </svg>
                                            <div class="invalid-feedback font-italic tncErrorMsg pt-0" v-if="validator.errors.length > 0">
                                                * Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                            </div>
                                        </div>
                                    </validation-provider>

                                    <div class="pt-4 wizard-navigation d-none d-lg-flex">
                                        <a @click.prevent="goToPrevStep()" href="#" role="button" class="btn btn-default btn-outline-primary mr-4 summaryBack" >Back</a>
                                        <a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })" href="#" role="button" class="btn btn-default btn-primary summaryCheckout">Checkout</a>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-4">
                                    <travelrightplus-summary-pane 
                                        :form-data="formData"
                                        :curr-step-num="currStep.stepNum"
                                        :commission-rate="commissionRate"
                                    ></travelrightplus-summary-pane>
                                </div>
                            </div>
                        </div>
                        <div class="container">
                            <validation-provider v-slot="validator" rules="mustBeTrue" v-if="commissionRate > 0">
                                <div class="form-check d-lg-none mt-3">
                                    <input type="checkbox"
                                        name="commissionAgreement"
                                        id="commissionAgreement"
                                        required
                                        :class="{
                                            'form-check-input': true,
                                            'is-invalid': validator.errors.length > 0
                                        }"
                                        v-model="formData['4'].commissionAgreement">
                                    <label for="commissionAgreement" class="form-check-label pr-md-5">
                                        I agree to pay a commission ({{displayCommissionRate}}%) amount of RM {{displayCommission}} to {{partnerName}} for providing insurance advice & claims assistance / services.
                                    </label>
                                    <svg class="icon icon-m tick-mark">
                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                            href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                    </svg>
                                    <div class="invalid-feedback font-italic tncErrorMsg pt-0" v-if="validator.errors.length > 0">
                                        * Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                    </div>
                                </div>
                            </validation-provider>
                            <validation-provider v-slot="validator" rules="mustBeTrue">
                                <div class="form-check d-lg-none mt-2">
                                    <input type="checkbox"
                                        name="benefitConditionAgreement"
                                        id="benefitConditionAgreement"
                                        required
                                        :class="{
                                            'form-check-input': true,
                                            'is-invalid': validator.errors.length > 0
                                        }"
                                        v-model="formData['4'].benefitConditionAgreement">
                                    <label for="benefitConditionAgreement" class="form-check-label pr-md-5">
                                        I have read, understood and accepted the <a class="underline text-danger" target="_blank" href="">benefits, key terms, exclusions</a> and <a class="underline text-danger" target="_blank" href="">condition of purchase</a> of COVID-19 Add-On.
                                    </label>
                                    <svg class="icon icon-m tick-mark">
                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                            href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                    </svg>
                                    <div class="invalid-feedback font-italic tncErrorMsg pt-0" v-if="validator.errors.length > 0">
                                        * Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                    </div>
                                </div>
                            </validation-provider>
                            <validation-provider v-slot="validator" rules="mustBeTrue">
                                <div class="form-check d-lg-none mt-2">
                                    <input type="checkbox" 
                                        name="m_tncAgreement" 
                                        id="m_tncAgreement" 
                                        required
                                        :class="{
                                            'form-check-input': true,
                                            'is-invalid': validator.errors.length > 0
                                        }"
                                        v-model="formData['4'].tncAgreement">
                                    <label for="m_tncAgreement" class="form-check-label pr-md-5">
                                        <!--I hereby acknowledge that I have read the <a class="underline" href="/$partnerURLTitle/resource/MSIG%20Motorcycle%20Insurance%20PDS%20(Rebate).pdf">Product Disclosure Sheet</a> and agree to the <a href="#" class="underline" @click.prevent="showTncModal">Terms and Conditions</a>.-->
                                        I hereby acknowledge that I have read the <a class="underline text-danger" target="_blank" :href="productDisclosurePDFUri">Product Disclosure Sheet</a> and agree to the <a href="#" class="underline text-danger" @click.prevent="showTncModal">Terms & Conditions</a>.
                                    </label>
                                    <svg class="icon icon-m tick-mark">
                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                            href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                    </svg>
                                    <div class="invalid-feedback font-italic tncErrorMsg pt-0" v-if="validator.errors.length > 0">
                                        * Oops, looks like you haven't ticked the box yet. Please do so to proceed.
                                    </div>
                                </div>
                            </validation-provider>
                        </div>
                        <div class="container pt-4 wizard-navigation d-lg-none flex-md-row-reverse justify-content-md-start">
                            <a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })" href="#" role="button" class="btn btn-default btn-primary mb-3 mb-md-0 mr-md-0 summaryCheckout">Checkout</a>
                            <a @click.prevent="goToPrevStep()" role="button" class="btn btn-default btn-outline-primary mr-md-3 summaryBack">Back</a>
                        </div>
                    </fieldset>

                    <fieldset class="wizard-section-5" v-if="currStep && currStep.stepNum === '5'">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 col-lg-8">
                                    <div class="bg-w pt-5 pb-4 pb-md-5 px-4 mb-3">
                                        <h2 class="p2 mb-4">Payment</h2>
                
                                        <div v-if="Date.now() > new Date('2021-02-02 00:00:00')&&Date.now() < new Date('2021-02-02 22:30:00')" style="color:red;font-size:small;padding-top:8px;margin-bottom:0px">
                                            <p style="color:red;font-size:small;padding-top:8px;margin-bottom:0px">Please note that Credit Card / Debit Card will be temporarily unavailable during these periods: </p>
                                            <ul style="margin: 10px 0 10px -18px;">
                                                    <li>2 February 2021 (Tuesday) 10.00pm to 10.30pm</li>
                                                </ul>
                                            <p style="color:red;font-size:small;padding-bottom:8px;margin-bottom:0px">Apologise for any inconvenience caused.</p>
                                        </div>
                                        
                                        
                                        <!----------------------- copy from tdi ---------------------------->
                                        <!--test run - red fpx message-->

                                        <div v-if="Date.now() > new Date('2021-03-03 00:00:00')&&Date.now() < new Date('2021-03-04 10:00:00')" style="color:red;font-size:small;padding-bottom:13px;margin-bottom:0px">
                                            <p style="color:red;font-size:small;padding-top:8px;margin-bottom:0px">Please note that FPX will be temporarily unavailable during these periods: </p>
                                            <ul style="margin: 10px 0 10px -18px;">
                                                    
                                                    <li>6 March 2021 (Saturday) 3am to 8am</li>
                                                    <li>20 March 2021 (Saturday) 3am to 8am</li>
                                                    
                                                </ul>
                                            <p style="color:red;font-size:small;padding-bottom:8px;margin-bottom:0px">Apologise for any inconvenience caused.</p>
                                        </div>
                                        
                                        <!--test run - red fpx message above-->
                                        
                                        <div v-if="Date.now() > new Date('2021-03-05 00:00:00')&&Date.now() < new Date('2021-03-06 08:00:00')" style="color:red;font-size:small;padding-top:8px;margin-bottom:0px">
                                            <p style="color:red;font-size:small;padding-top:8px;margin-bottom:0px">Please note that FPX will be temporarily unavailable during these periods: </p>
                                            <ul style="margin: 10px 0 10px -18px;">
                                                    <li>6 March 2021 (Saturday) 3am to 8am</li>
                                                </ul>
                                            <p style="color:red;font-size:small;padding-bottom:8px;margin-bottom:0px">Apologise for any inconvenience caused.</p>
                                        </div>
                                        <div v-if="Date.now() > new Date('2021-03-19 00:00:00')&&Date.now() < new Date('2021-03-20 08:00:00')" style="color:red;font-size:small;padding-top:8px;margin-bottom:0px">
                                            <p style="color:red;font-size:small;padding-top:8px;margin-bottom:0px">Please note that FPX will be temporarily unavailable during these periods: </p>
                                            <ul style="margin: 10px 0 10px -18px;">
                                                    <li>20 March 2021 (Saturday) 3am to 8am</li>
                                                </ul>
                                            <p style="color:red;font-size:small;padding-bottom:8px;margin-bottom:0px">Apologise for any inconvenience caused.</p>
                                        </div>
 
                                        <!----------------------- copy from tdi ---------------------------->

                            
                                        <p class="bt1 color-black font-weight-bold">Payment Method:</p>
                                        <div class="vertical-scroller mb-md-3">
                                            <div class="d-flex">
                                                <!-- card one -->
                                                <!-- weijun - FPX hide -->
                                                <div v-if="isFPXPaymentGateway == 'true'" class="selection-infobox mb-3 mb-lg-0 mr-3">
	                                            <!-- weijun - FPX hide end -->
                                                    <label class="d-block">
                                                        <input type="radio" 
                                                            name="choosePayment" 
                                                            value="fpxPaymentGateway"
                                                            v-model="formData['5'].paymentMethod" />
                                                        <div class="box overflow-hidden">
                                                            <div class="header-match-height">
                                                                <div class="box--header bg-p2 text-white p-3">
                                                                    <h3 class="m-0">Online Banking</h3>
                                                                </div>
                                                                <div class="pt-4 mb-3 broderTopWhite">
                                                                    <svg class="icon icon-4xl">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-fpx"
                                                                            href="/spa-assets/icons/icons.svg#sprite-fpx">
                                                                        </use>
                                                                    </svg>
                                                                </div>
                                                            </div>
                                                            <div class="box--body px-3 pt-0 pb-3">
                                                                <div class="d-flex justify-content-center py-2">
                                                                    <div class="custom-rounded-checked">
                                                                        <svg class="icon icon-m tick-mark my-2">
                                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                                                                href="/spa-assets/icons/icons.svg#sprite-tick-mark">
                                                                            </use>
                                                                        </svg>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </label>
                                                </div>

                                                <!-- card two -->
                                                <div class="selection-infobox mb-3 mb-lg-0 mr-3">

                                                    <label class="d-block">
                                                        <input type="radio"
                                                            name="choosePayment"
                                                            value="abmbGateway"
                                                            @change="initializeTooltips"
                                                            value="msigCentralizedMastercardPaymentGateway"
                                                            v-model="formData['5'].paymentMethod" />
                                                        <div class="box overflow-hidden">
                                                            <div class="header-match-height">
                                                                <div class="box--header bg-p2 text-white p-3">
                                                                    <h3 class="m-0">Credit/Debit Card</h3>
                                                                </div>
                                                                <div class="mt-4 mb-3">
                                                                    <svg class="icon icon-4xl">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-credit-card"
                                                                            href="/spa-assets/icons/icons.svg#sprite-credit-card">
                                                                        </use>
                                                                    </svg>
                                                                </div>
                                                            </div>
                                                            <div class="box--body px-3 pt-0 pb-3">
                                                                <div class="d-flex justify-content-center py-2">
                                                                    <div class="custom-rounded-checked">
                                                                        <svg class="icon icon-m tick-mark my-2">
                                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                                                                href="/spa-assets/icons/icons.svg#sprite-tick-mark">
                                                                            </use>
                                                                        </svg>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </label>
                                                </div>

                                                <!-- card 3 -->
                                                <div v-if="isBoostPaymentGateway" class="selection-infobox mb-3 mb-lg-0 mr-3">
                                                    <label class="d-block">
                                                        <input type="radio"
                                                            name="choosePayment"
                                                            value="ewalletPaymentMethod"
                                                            v-model="formData['5'].paymentMethod" />
                                                        <div class="box overflow-hidden">
                                                            <div class="header-match-height">
                                                                <div class="box--header bg-p2 text-white p-3">
                                                                    <h3 class="m-0">E-Wallet</h3>
                                                                </div>
                                                                <div class="pt-4 mb-3 broderTopWhite">
                                                                    <svg class="icon icon-4xl">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-ewallets"
                                                                            href="/spa-assets/icons/icons.svg#sprite-ewallets">
                                                                        </use>
                                                                    </svg>
                                                                </div>
                                                            </div>
                                                            <div class="box--body px-3 pt-0 pb-3">
                                                                <div class="d-flex justify-content-center py-2">
                                                                    <div class="custom-rounded-checked">
                                                                        <svg class="icon icon-m tick-mark my-2">
                                                                            <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark"
                                                                                href="/spa-assets/icons/icons.svg#sprite-tick-mark">
                                                                            </use>
                                                                        </svg>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- FPX Banking -->
                                        <div v-show="formData['5'].paymentMethod === 'fpxPaymentGateway' && isFPXPaymentGateway == 'true'">
                                            <p class="bt1 mb-2">Bank:</p>
                                            <validation-provider :rules="formData['5'].paymentMethod === 'fpxPaymentGateway' ? 'required' : ''"
                                                v-slot="validator">
                                                <div class="form-group">
                                                    <select v-model="formData['5'].bankId"
                                                        :class="{
                                                            'form-control': true,
                                                            'is-invalid': validator.errors.length > 0
                                                        }">
                                                        <option disabled hidden selected value="">Select a Bank</option>
                                                        <option v-for="(bank, index) in banks" v-bind:key="index"
                                                            :value="bank.bankId">
                                                            {{ bank.bankName }}
                                                        </option>
                                                    </select>
                                                    <small class="error-message text-primary font-italic" v-if="validator.failedRules.required">
                                                        Please select a valid bank
                                                    </small>
                                                </div>
                                            </validation-provider>

                                            <p><small>Note: You need to have an active internet banking account with any of the FPX performing banks to use FPX.</small></p>

                                            <p class="bt1 mb-2">
                                                Email Address: <small class="font-italic">(For transaction status)</small>
                                            </p>

                                            <div class="row">
                                                <div class="col-12 col-md-6">
                                                    <validation-provider :rules="formData['5'].paymentMethod === 'fpxPaymentGateway' ? 'required|email' : ''"
                                                        v-slot="validator" mode="eager" ref="email5">
                                                        <div class="form-group" v-on:keyup="$refs.email5.reset()">
                                                            <input type="email" 
                                                                :class="{
                                                                    'form-control': true,
                                                                    'is-invalid': validator.errors.length > 0
                                                                }"
                                                                placeholder="E.g.: you@gmail.com"
                                                                v-model="formData['5'].fpxEmail">
                                                            <small class="error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                <span v-if="validator.failedRules.required">* Complete the Email field.</span>
                                                                <span v-else-if="validator.failedRules.email">Please enter a valid email address</span>
                                                            </small>
                                                        </div>
                                                    </validation-provider>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- card/debit card -->
                                        <div v-show="formData['5'].paymentMethod === 'abmbGateway' && isFPXPaymentGateway">
                                            <div class="credit-card-indicator d-flex align-items-center mb-3"
                                                :class="{
                                                    'has-card': cardType
                                                }">
                                                <svg class="icon icon-3xl mr-2"
                                                    :class="{
                                                        'active': cardType === 'VISA'
                                                    }">
                                                    <use href="/spa-assets/icons/icons.svg#sprite-visa"></use>
                                                </svg>
                                                <svg class="icon icon-xxl"
                                                    :class="{
                                                        'active': cardType === 'MASTER'
                                                    }">
                                                    <use href="/spa-assets/icons/icons.svg#sprite-mastercard"></use>
                                                </svg>
                                            </div>

                                            <div class="row">
                                                <div class="col-12 col-md-7">
                                                    <validation-provider 
                                                        :rules="formData['5'].paymentMethod === 'abmbGateway' ? 'required' : ''" 
                                                        v-slot="validator">
                                                        <div class="form-group">
                                                            <label class="bt1">Card Number:</label>
                                                            <input type="text"
                                                                placeholder="xxxx xxxx xxxx xxxx"
                                                                v-mask="'#### #### #### ####'"
                                                                name="cardnumber"
                                                                v-model="formData['5'].ccNo"
                                                                :class="{
                                                                    'form-control': true,
                                                                    'is-invalid': validator.errors.length > 0
                                                                }"
                                                                autocomplete="cc-number">
                                                            <div class="small error-message text-primary font-italic">
                                                                <span v-if="validator.failedRules.required">* Complete the Card Number field.</span>
                                                                <span v-else-if="validator.failedRules.isCreditCardValid">* Please enter a valid Visa / MasterCard No</span>
                                                            </div>
                                                        </div>
                                                    </validation-provider>
                                                </div>
                                                <div class="col-12 col-md-7">
                                                    <validation-provider :rules="formData['5'].paymentMethod === 'abmbGateway' ? 'required' : ''" v-slot="validator">
                                                        <div class="form-group">
                                                            <label class="bt1">Name on Card:</label>
                                                            <input type="text"
                                                                placeholder="Name on Card"
                                                                v-model="formData['5'].cardHolderName"
                                                                name="ccname"
                                                                autocomplete="cc-name"
                                                                :class="{
                                                                    'form-control': true,
                                                                    'is-invalid': validator.errors.length > 0
                                                                }">
                                                            <small v-if="validator.failedRules.required" class="error-message text-primary font-italic">
                                                                <span>* Complete the Name field.</span>
                                                            </small>
                                                        </div>
                                                    </validation-provider>
                                                </div>

                                                <div class="col-12 col-md-10">
                                                    <div class="form-row">
                                                        <validation-provider :rules="formData['5'].paymentMethod === 'abmbGateway' ? 'required|isCreditCardExpiryValid' : ''" v-slot="validator" slim>
                                                            <div class="col-3 form-group">
                                                                <label class="bt1">Expiration Date:</label>
                                                                <input type="text" 
                                                                    placeholder="MM/YY"
                                                                    name="expirationDate"
                                                                    name="cc-exp"
                                                                    autocomplete="cc-exp"
                                                                    v-mask="'##/##'"
                                                                    v-model="formData['5'].expiry"
                                                                    :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': validator.errors.length > 0
                                                                    }">
                                                                <div class="small error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the Expiry (MM/YY) field.</span>
                                                                    <span v-if="validator.failedRules.isCreditCardExpiryValid">* Please enter a valid Expiry date (MM/YY).</span>
                                                                </div>
                                                            </div>
                                                        </validation-provider>
                                                        <validation-provider
                                                            :rules="formData['5'].paymentMethod === 'abmbGateway' ? 'required|integer|length:3' : ''"
                                                            v-slot="validator" slim>
                                                            <div class="form-group col-1">
                                                                <label class="bt1">CVV
                                                                    <span class="d-inline-flex">
                                                                        <div class="ml-2 btn-tooltip" data-toggle="tooltip"
                                                                            data-placement="right"
                                                                            title="The last 3 digits behind your credit card">
                                                                            ?
                                                                        </div>
                                                                    </span>
                                                                </label>
                                                                <input type="text"
                                                                    placeholder="xxx"
                                                                    maxlength="3"
                                                                    name="cvc"
                                                                    style="width:110px;"
                                                                    autocomplete="cc-csc"
                                                                    v-model="formData['5'].cvv"
                                                                    :class="{
                                                                        'form-control': true,
                                                                        'is-invalid': validator.errors.length > 0
                                                                    }">
                                                                <div class="small error-message text-primary font-italic" v-if="validator.errors.length > 0">
                                                                    <span v-if="validator.failedRules.required">* Complete the CVV field.</span>
                                                                    <span v-else-if="validator.failedRules.length || validator.failedRules.integer">* Please enter a valid CVV</span>
                                                                </div>
                                                            </div>
                                                        </validation-provider>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>

                                        <!-- E-Wallet -->
                                        <div v-show="formData['5'].paymentMethod === 'ewalletPaymentMethod' && isBoostPaymentGateway">
                                            <p class="bt1">Select Your Preferred E-Wallet:</p>
                                            <validation-provider
                                                :rules="formData['5'].paymentMethod === 'ewalletPaymentMethod' ? 'required' : ''"
                                                v-slot="validator"
                                                slim>
                                                <div>
                                                    <div class="list variant-bank">
                                                        <div class="list-item">
                                                            <input 
                                                                type="radio"
                                                                name="wallet" 
                                                                id="radEWallet1"
                                                                value="boostPaymentGateway"
                                                                v-model="formData['5'].ewalletVendor"
                                                                :class="validator.errors.length > 0 ? 'is-invalid' : ''">
                                                            <label for="radEWallet1" style="border-radius:10px;border: .2px solid #000000;">
                                                            <div class="wallet-rounded-checked">
                                                                    <svg class="icon icon-s tick-mark">
                                                                        <use xlink:href="/spa-assets/icons/icons.svg#sprite-tick-mark" href="/spa-assets/icons/icons.svg#sprite-tick-mark"></use>
                                                                    </svg>
                                                                </div>
                                                                <div class="bank-logo">
                                                                    <img src="/spa-assets/img/boost.png" alt="Boost logo">
                                                                </div>
                                                                
                                                                <div class="bank-name">
                                                                    Boost
                                                                </div>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="error-message small text-primary" v-if="validator.failedRules.required">
                                                        * Please select an e-Wallet Provider
                                                    </div>
                                                </div>
                                            </validation-provider>
                                        </div>
                                    </div>

                                    <div class="d-none d-lg-block" v-if="formData['5'].paymentMethod === 'fpxPaymentGateway' && isFPXPaymentGateway == 'true'">
                                        <p class="bt2">By clicking <strong>"Pay Now"</strong> button, you agree to FPX's
                                            <a href="https://www.mepsfpx.com.my/FPXMain/termsAndConditions.jsp" target="_blank" class="underline text-danger">Terms & Conditions</a>.
                                        </p>
                                    </div>
                                    
                                    <div class="wizard-navigation d-none d-lg-flex pt-4">
                                        <a @click.prevent="goToPrevStep()" href="#" role="button" class="btn btn-default btn-outline-primary mr-4">Back</a>
                                        <button @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })" role="button" class="btn btn-default btn-primary">Pay Now</button>
                                    </div>
                                </div>

                                <div class="col-12 col-lg-4">
                                    <travelrightplus-summary-pane 
                                        :form-data="formData"
                                        :curr-step-num="currStep.stepNum"
                                    ></travelrightplus-summary-pane>
                                </div>
                                <div class= "container">
                                    <div class="d-lg-none mt-3">
                                        <div class="d-lg-none" v-if="formData['5'].paymentMethod === 'fpxPaymentGateway' && isFPXPaymentGateway == 'true'">
                                            <p class="bt2">By clicking <strong>"Pay Now"</strong> button, you agree to FPX's
                                                <a href="https://www.mepsfpx.com.my/FPXMain/termsAndConditions.jsp" target="_blank" class="underline text-danger">Terms & Conditions</a>.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class="container pt-4 wizard-navigation d-lg-none flex-md-row-reverse justify-content-md-start">
                                    <a @click.prevent="observer.handleSubmit(onSubmit).then(function() { scrollToError() })" role="button" class="btn btn-default btn-primary  mb-3 mb-md-0 mr-md-0">Pay Now</a>

                                    <a @click.prevent="goToPrevStep()" href="#" role="button" class="btn btn-default btn-outline-primary mr-md-3">Back</a>
                                </div>
                            </div>
                        </div>
                    </fieldset>    
                

                </form>
            </validation-observer>

            <div class="page-loader">
                <div class="spinner-container">
                    <div class="spinner-border text-secondary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </div>
            </div>
        </div>

        

        <!-- Error message section -->
        <!--
        <div class="error-container py-5 bg-p2d" v-if="!canProceed">
            <div class="container">
                <div class="bg-w py-5 px-3">
                    <div class="text-center">
                        <img src="/spa-assets/img/PA-ErrorIcon.png" alt="Error" class="img-responsive mb-3">
                        <h3>Sorry, we are unable to proceed with your request online.</h3>
                    </div>
                    <div class="bt2 text-center" v-html="errorMessage"></div>
                    <p class="bt2 text-center">Please download and fill out the application form <a style="color:red;text-decoration:underline" v-bind:href="partnerUrlTitle+'/resource/EZ Critical Care Insurance - Proposal Form.pdf'" target="blank">here</a> and submit it to us <a style="color:red;text-decoration:underline" href="../../home/contact-us.html"  target="_blank" data-contact-type="Manual Application" :data-email="partnerEmail">here</a>.</p>
                    <div class="btnContainer" style="margin: 4% auto 0% auto !important;">
                        <a href="../../" class="button textAlignCenter" style="color:white;display:block; line-height: 40px;padding:5px 10px;">Back to Home</a>
                    </div>
                </div>
            </div>
        </div>
        -->
        <div class="preScreenError-parent" v-show="!canProceed">
        <!--<div class="error-container py-5 bg-p2d" v-if="!canProceed" style="width:100% !important">-->
            <div class="preScreenError-child">
                <div class="preScreenError-vertical-middle">
                    <!--<div class="text-center" id="prescreen_error_content">-->
                        <img src="/spa-assets/img/PA-ErrorIcon.png" alt="Error" class="preScreenError-image">
                        <h3>Sorry, we are unable to proceed with your application online.</h3>
                    <!--</div>-->
                    <div class="preScreenError-submit-copy preScreenError-margin-bottom-24" v-if="errorMessage" v-html="errorMessage"></div>
                    <p class="preScreenError-submit-copy">Please download and fill out the application form <a style="color:red;text-decoration:underline" v-bind:href="partnerUrlTitle+'/resource/EZ Critical Care Insurance - Proposal Form.pdf'" target="blank">here</a> and submit it to us <a style="color:red;text-decoration:underline" href="../../home/contact-us.html"  target="_blank" data-contact-type="Manual Application" :data-email="partnerEmail">here</a>.</p>
                    <div class="btnContainer" id="backToHomeBtn" >
                        <a href="../../" class="button textAlignCenter" style="font-weight:bold;color:white;display:block; line-height: 40px;padding:5px 10px;">Back to Home</a>
                    </div>
   
                    <div class="prescreen_error_footnote" >
                        If you have any enquiries you may contact our Customer Service Hotline at:<br/>
                        <a  v-bind:href="'tel:' + supportTel" style="color: red;text-decoration: underline;"><b>{{supportTel}}</b></a>
                         or <a  href="../../home/contact-us.html" :data-email="partnerEmail" target="_blank" style="color: red;text-decoration: underline;"><b>Contact us</b></a> from 
                         <span v-if="partnerCode=='gdex'||partnerCode=='in'"><b>Monday to Friday 9.00 am to 5.00 pm</b> excluding public holidays.</span>
                         <span v-if="partnerCode=='GTT'||partnerCode=='AG'"><b>Monday to Friday 9.00 am to 6.00 pm</b> excluding public holidays.</span>
                        <span v-if="partnerCode=='edd'"><b>Monday to Friday 9.00 am to 6.15 pm</b> excluding public holidays.</span>
                        <span v-if="partnerCode=='PanaHarrison'"><b>Monday to Friday 8.30 am to 5.00 pm</b> excluding public holidays.</span>
                         <span v-if="partnerCode !='gdex' && partnerCode !='in' && partnerCode !='GTT' && partnerCode !='AG' && partnerCode !='edd'  && partnerCode !='PanaHarrison'"><b>Monday to Friday 8.30 am to 5.30 pm</b> excluding public holidays.</span>
                    </div>

                    
                </div>
            </div>
        </div>
        <!-- Error message section -->


        <!-- Form to Submit Data to Summary Page -->
        <!--<form id="summary-form-placeholder" class="d-none" enctype="application/x-www-form-urlencoded" method="post"></form>-->
        <!--remove method="post" in vue environment-->
	    <form id="summary-form-placeholder" class="d-none" enctype="application/x-www-form-urlencoded"></form>

        <!-- The error form returned from processPurchase will be placed here -->
        <div id="error-form-placeholder" class="d-none"></div>

        <form action="/dotCMS/purchase/paynow" id="thePaymentForm" name="paymentForm" method="post" novalidate class="d-none">
            <input name="partnerCode" type="hidden" v-model="partnerCode">
            <input name="productCode" type="hidden" v-model="productCode">
            <input name="productName" type="hidden" v-model="productName">
            <input name="purchaseId" type="hidden" v-model="formData['4'].purchaseTempId">
            <input name="formula" type="hidden" v-model="formula">
            <input name="paymentMethod" type="hidden" v-model="formData['5'].paymentMethod">
            <input name="ccNo" type="hidden" v-model="formData['5'].ccNo">
            <input name="cardHolderName" type="hidden" v-model="formData['5'].cardHolderName">
            <input name="expiry" type="hidden" v-model="formData['5'].expiry">
            <input name="cvv" type="hidden" v-model="formData['5'].cvv">
            <input name="wallet" type="hidden" v-model="formData['5'].ewalletVendor">
            <input name="bankId" type="hidden" v-model="formData['5'].bankId">
            <input name="fpxEmail" type="hidden" v-model="formData['5'].fpxEmail">
        </form>

        <div id="session-modal" class="modal fade variant-msig" aria-hidden="true">
            <div class="modal-dialog partial-screen-modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header bg-t2">
                        <h6 class="w text-center modal-title">Information</h6>
                        <button class="modal-header-btn button-icon btn-close" data-dismiss="modal" @click="wishToRestoreSession = false">
                            <svg class="icon icon-s">
                                <use xlink:href="/spa-assets/icons/icons.svg#sprite-close-popup" href="/spa-assets/icons/icons.svg#sprite-close-popup"></use>
                            </svg>
                        </button>
                    </div>
                    <div class="modal-container padding-top-3xl padding-bottom-l">
                        <div class="px-3 py-5 content-container">
                            <p class="bt1 text-center">Would you like to restore your previous session?</p>
                            <div class="d-flex flex-column flex-md-row align-items-center justify-content-md-center">
                                <button class="btn btn-primary mr-3" data-dismiss="modal" @click="wishToRestoreSession = true">Yes</button>
                                <button class="btn btn-secondary" data-dismiss="modal" @click="wishToRestoreSession = false">No</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endverbatim %}
</div>


<script type="text/x-template" id="travelrightPlus-summary-pane-template">
    {% include "./travelrightPlus-summary-pane.twig" %}
</script>

<style lang="scss">
/* Fake for IE. because it doesn't emit the hit event when using display:none */
.vbt-autcomplete-list--hidden {
  animation-name: hide;
  animation-fill-mode: both;
  animation-duration: 0.3s;
  animation-timing-function: linear;
}

@keyframes hide {
  to {
    visibility: hidden;
    display: none;
  }
}
</style>

{% embed "./modal.twig" with {
    modalId: 'information-modal',
    modalHeaderTitle: 'Information'
} %}
    {% block modalContent %}
        <div class="px-3 py-5 content-container"></div>
    {% endblock %}
{% endembed %}